<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>INDIA VOTING</title>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
<style>
    body {
        font-family: 'Sitka Text', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #ffcc00, #ff9900);
        margin: 0;
        padding: 0;
        min-height: 100vh;
        animation: colorShift 10s infinite alternate;
        position: relative;
        overflow-x: hidden;
    }
    @keyframes colorShift {
        0% { background: linear-gradient(135deg, #ffcc00, #ff9900); }
        25% { background: linear-gradient(135deg, #ff9900, #ff6600); }
        50% { background: linear-gradient(135deg, #ff6600, #ff3366); }
        75% { background: linear-gradient(135deg, #ff3366, #9933ff); }
        100% { background: linear-gradient(135deg, #9933ff, #ffcc00); }
    }
    
    /* Navigation Bar Styles */
    .navbar {
        background: rgba(0, 0, 0, 0.8);
        padding: 10px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: white;
        position: sticky;
        top: 0;
        z-index: 1000;
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    .navbar-brand {
        font-size: 24px;
        font-weight: bold;
        text-decoration: none;
        color: white;
        display: flex;
        align-items: center;
    }
    .navbar-brand img {
        width: 30px;
        height: 20px;
        margin-right: 10px;
    }
    .navbar-links {
        display: flex;
        gap: 20px;
    }
    .navbar-links a {
        color: white;
        text-decoration: none;
        font-weight: bold;
        padding: 5px 10px;
        border-radius: 5px;
        transition: all 0.3s ease;
    }
    .navbar-links a:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-2px);
    }
    .logout-btn {
        display: none;
    }
    
    /* Login Form Styles */
    .login-container {
        background: rgba(255, 255, 255, 0.9);
        border-radius: 15px;
        padding: 20px;
        margin: 20px auto;
        max-width: 500px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        animation: slideDown 0.8s ease-out;
    }
    @keyframes slideDown {
        from { transform: translateY(-50px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }
    .login-title {
        font-family: 'Sitka Banner', 'Segoe UI', Tahoma, Geneva, Verdana, serif;
        font-size: 24px;
        font-weight: bold;
        color: #28a745;
        text-align: center;
        margin-bottom: 20px;
        text-decoration: underline;
    }
    .form-group {
        margin-bottom: 15px;
    }
    .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
        color: #333;
    }
    .form-control {
        width: 100%;
        padding: 12px;
        border: 2px solid #ddd;
        border-radius: 8px;
        box-sizing: border-box;
        font-size: 16px;
        transition: all 0.3s ease;
    }
    .form-control:focus {
        border-color: #28a745;
        box-shadow: 0 0 10px rgba(40, 167, 69, 0.5);
        outline: none;
        transform: scale(1.02);
    }
    .checkbox-group {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
    }
    .checkbox-group input {
        margin-right: 10px;
    }
    .login-btn {
        background: linear-gradient(45deg, #28a745, #20c997);
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
        font-size: 16px;
        width: 100%;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        animation: buttonPulse 3s infinite;
    }
    @keyframes buttonPulse {
        0% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0.7); }
        70% { box-shadow: 0 0 0 10px rgba(40, 167, 69, 0); }
        100% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0); }
    }
    .login-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    
    /* Vote Checking Login Form Styles */
    .vote-check-login-container {
        background: rgba(255, 255, 255, 0.9);
        border-radius: 15px;
        padding: 20px;
        margin: 20px auto;
        max-width: 500px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        animation: slideDown 0.8s ease-out;
        display: none;
    }
    .vote-check-login-title {
        font-family: 'Sitka Banner', 'Segoe UI', Tahoma, Geneva, Verdana, serif;
        font-size: 24px;
        font-weight: bold;
        color: #dc3545;
        text-align: center;
        margin-bottom: 20px;
        text-decoration: underline;
    }
    .vote-check-login-btn {
        background: linear-gradient(45deg, #dc3545, #c82333);
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
        font-size: 16px;
        width: 100%;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        animation: buttonPulse 3s infinite;
    }
    .vote-check-login-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    
    /* Welcome Screen Styles */
    .welcome-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 3000;
        flex-direction: column;
    }
    .welcome-content {
        background: rgba(255, 255, 255, 0.9);
        border-radius: 20px;
        padding: 40px;
        text-align: center;
        max-width: 600px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        animation: welcomeAnimation 1s ease-out;
    }
    @keyframes welcomeAnimation {
        0% { transform: scale(0.5); opacity: 0; }
        100% { transform: scale(1); opacity: 1; }
    }
    .welcome-title {
        font-family: 'Sitka Banner', 'Segoe UI', Tahoma, Geneva, Verdana, serif;
        font-size: 36px;
        font-weight: bold;
        color: #28a745;
        margin-bottom: 20px;
        text-decoration: underline;
        animation: pulse 2s infinite, rainbow 8s linear infinite;
    }
    .welcome-message {
        font-size: 20px;
        margin-bottom: 30px;
        color: #333;
    }
    .welcome-btn {
        background: linear-gradient(45deg, #28a745, #20c997);
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 30px;
        cursor: pointer;
        font-weight: bold;
        font-size: 18px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .welcome-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.3);
    }
    
    /* Logout Screen Styles */
    .logout-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 3000;
        flex-direction: column;
    }
    .logout-content {
        background: rgba(255, 255, 255, 0.9);
        border-radius: 20px;
        padding: 40px;
        text-align: center;
        max-width: 600px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        animation: logoutAnimation 1s ease-out;
    }
    @keyframes logoutAnimation {
        0% { transform: scale(0.5); opacity: 0; }
        100% { transform: scale(1); opacity: 1; }
    }
    .logout-title {
        font-family: 'Sitka Banner', 'Segoe UI', Tahoma, Geneva, Verdana, serif;
        font-size: 36px;
        font-weight: bold;
        color: #dc3545;
        margin-bottom: 20px;
        text-decoration: underline;
        animation: pulse 2s infinite;
    }
    .logout-message {
        font-size: 20px;
        margin-bottom: 30px;
        color: #333;
    }
    .logout-btn {
        background: linear-gradient(45deg, #dc3545, #c82333);
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 30px;
        cursor: pointer;
        font-weight: bold;
        font-size: 18px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .logout-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.3);
    }
    
    /* Home Section Styles */
    .home-section {
        display: none;
        padding: 20px;
        animation: fadeIn 1s ease-out;
    }
    .home-title {
        font-family: 'Sitka Banner', 'Segoe UI', Tahoma, Geneva, Verdana, serif;
        font-size: 36px;
        font-weight: bold;
        color: #28a745;
        text-align: center;
        margin-bottom: 30px;
        text-decoration: underline;
        animation: pulse 2s infinite, rainbow 8s linear infinite;
    }
    
    /* Image Search Styles */
    .image-search-container {
        max-width: 1000px;
        margin: 0 auto 40px;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        padding: 30px;
        animation: slideUp 1s ease-out;
    }
    .search-box {
        display: flex;
        margin-bottom: 20px;
    }
    .search-input {
        flex: 1;
        padding: 12px;
        border: 2px solid #ddd;
        border-radius: 8px 0 0 8px;
        font-size: 16px;
        transition: all 0.3s ease;
    }
    .search-input:focus {
        border-color: #28a745;
        box-shadow: 0 0 10px rgba(40, 167, 69, 0.5);
        outline: none;
    }
    .search-btn {
        background: linear-gradient(45deg, #28a745, #20c997);
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 0 8px 8px 0;
        cursor: pointer;
        font-weight: bold;
        font-size: 16px;
        transition: all 0.3s ease;
    }
    .search-btn:hover {
        background: linear-gradient(45deg, #218838, #1e7e34);
    }
    .image-gallery {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 20px;
    }
    .image-item {
        position: relative;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
        cursor: pointer;
    }
    .image-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    }
    .image-item img {
        width: 100%;
        height: 150px;
        object-fit: cover;
        display: block;
    }
    .image-caption {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 8px;
        font-size: 14px;
        text-align: center;
    }
    .no-results {
        text-align: center;
        padding: 20px;
        font-size: 18px;
        color: #666;
    }
    
    /* Admission Section Styles */
    .admission-section {
        max-width: 1200px;
        margin: 0 auto 40px;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        padding: 30px;
        animation: slideUp 1s ease-out;
    }
    .admission-title {
        font-family: 'Sitka Banner', 'Segoe UI', Tahoma, Geneva, Verdana, serif;
        font-size: 30px;
        font-weight: bold;
        color: #28a745;
        text-align: center;
        margin-bottom: 30px;
        text-decoration: underline;
        animation: pulse 2s infinite, rainbow 8s linear infinite;
    }
    .admission-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
    }
    .admission-box {
        border-radius: 10px;
        padding: 15px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
        overflow: hidden;
    }
    .admission-box:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    }
    .admission-number {
        position: absolute;
        top: 10px;
        left: 10px;
        background: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 5px 10px;
        border-radius: 15px;
        font-weight: bold;
        font-size: 14px;
        z-index: 2;
    }
    .admission-image-container {
        width: 100%;
        height: 150px;
        border-radius: 8px;
        overflow: hidden;
        background-color: #f0f0f0;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-bottom: 15px;
        border: 2px dashed #ccc;
    }
    .admission-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .admission-placeholder {
        font-size: 40px;
        color: #999;
    }
    .admission-upload {
        margin-bottom: 15px;
        width: 100%;
    }
    .admission-upload input[type="file"] {
        display: none;
    }
    .admission-upload-btn {
        background: linear-gradient(45deg, #007bff, #6610f2);
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 20px;
        cursor: pointer;
        font-weight: bold;
        font-size: 14px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        width: 100%;
    }
    .admission-upload-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    .admission-name-input {
        width: 100%;
        padding: 8px;
        border: 2px solid #ddd;
        border-radius: 5px;
        box-sizing: border-box;
        font-size: 14px;
        transition: all 0.3s ease;
        margin-bottom: 10px;
    }
    .admission-name-input:focus {
        border-color: #28a745;
        box-shadow: 0 0 5px rgba(40, 167, 69, 0.3);
        outline: none;
    }
    
    /* Voting Section Styles */
    .voting-section {
        display: none;
        padding: 20px;
    }
    .header {
        text-align: center;
        margin-bottom: 30px;
        animation: bounceIn 1s ease-out;
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    @keyframes bounceIn {
        0% { transform: scale(0.3); opacity: 0; }
        50% { transform: scale(1.05); }
        70% { transform: scale(0.9); }
        100% { transform: scale(1); opacity: 1; }
    }
    h1 {
        font-family: 'Sitka Banner', 'Segoe UI', Tahoma, Geneva, Verdana, serif;
        font-size: 56px;
        font-weight: bold;
        color: #28a745;
        text-align: center;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        margin: 10px 0;
        text-decoration: underline;
        animation: pulse 2s infinite, rainbow 8s linear infinite;
        z-index: 2;
    }
    @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
    }
    @keyframes rainbow {
        0% { color: #ff0000; }
        16.66% { color: #ff9900; }
        33.33% { color: #ffff00; }
        50% { color: #00ff00; }
        66.66% { color: #0000ff; }
        83.33% { color: #9900ff; }
        100% { color: #ff0000; }
    }
    
    /* Profile Image Upload Styles */
    .profile-section {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-bottom: 30px;
        animation: fadeIn 1s ease-out;
    }
    .profile-image-container {
        position: relative;
        width: 150px;
        height: 150px;
        border-radius: 50%;
        overflow: hidden;
        border: 4px solid #28a745;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        margin-bottom: 15px;
        background-color: #f0f0f0;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .profile-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .profile-placeholder {
        font-size: 60px;
        color: #999;
    }
    .profile-upload {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .profile-upload input[type="file"] {
        display: none;
    }
    .profile-upload-btn {
        background: linear-gradient(45deg, #007bff, #6610f2);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 25px;
        cursor: pointer;
        font-weight: bold;
        font-size: 14px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .profile-upload-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    .profile-name {
        margin-top: 10px;
        font-weight: bold;
        color: #333;
        font-size: 18px;
    }
    
    /* Candidate Photo Styles */
    .candidate-photo-container {
        width: 100%;
        height: 120px;
        border: 2px dashed #ccc;
        border-radius: 8px;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-bottom: 10px;
        overflow: hidden;
        background-color: #f9f9f9;
        transition: all 0.3s ease;
    }
    .candidate-photo-container:hover {
        border-color: #28a745;
        background-color: #f0f8f0;
    }
    .candidate-photo {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
    }
    .photo-placeholder {
        color: #999;
        font-size: 16px;
        text-align: center;
        padding: 10px;
    }
    
    /* Indian Flag Background Styles */
    .flag-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url('https://z-cdn-media.chatglm.cn/files/86f457f1-8867-43f6-ab0e-2d1f58cb7ee6_pasted_image_1756517505702.png?auth_key=1788053619-47e0ba445e744ed9974c1bbd123c7ff8-0-7c7c253dd67983bcf13b7c1020ac0b9d');
        background-size: cover;
        background-position: center;
        opacity: 0.15;
        z-index: -2;
        animation: flagFloat 20s infinite ease-in-out;
    }
    @keyframes flagFloat {
        0% { transform: translateY(0) scale(1); }
        25% { transform: translateY(-20px) scale(1.02); }
        50% { transform: translateY(0) scale(1); }
        75% { transform: translateY(-10px) scale(0.98); }
        100% { transform: translateY(0) scale(1); }
    }
    .table-container {
        max-width: 1000px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        overflow: hidden;
        animation: slideUp 1s ease-out;
    }
    @keyframes slideUp {
        from { transform: translateY(50px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }
    #myTable {
        width: 100%;
        border-collapse: collapse;
    }
    #myTable th, #myTable td {
        text-align: left;
        padding: 15px;
        border-bottom: 1px solid #ddd;
    }
    #myTable th {
        background: linear-gradient(45deg, #28a745, #20c997);
        color: white;
        font-weight: bold;
        font-size: 18px;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        animation: headerGlow 3s infinite alternate;
    }
    @keyframes headerGlow {
        from { box-shadow: inset 0 0 10px rgba(255,255,255,0.3); }
        to { box-shadow: inset 0 0 20px rgba(255,255,255,0.6); }
    }
    #myTable tr:nth-child(even) {
        background-color: rgba(240, 248, 255, 0.7);
        animation: rowFadeIn 1.5s ease-out;
    }
    #myTable tr:nth-child(odd) {
        background-color: rgba(255, 250, 240, 0.7);
        animation: rowFadeIn 1.5s ease-out 0.2s both;
    }
    @keyframes rowFadeIn {
        from { opacity: 0; transform: translateX(-20px); }
        to { opacity: 1; transform: translateX(0); }
    }
    #myTable tr:hover {
        background-color: rgba(230, 247, 233, 0.9);
        transform: scale(1.02);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
    }
    .candidate-input {
        width: 100%;
        padding: 12px;
        border: 2px solid #ddd;
        border-radius: 8px;
        box-sizing: border-box;
        font-size: 16px;
        transition: all 0.3s ease;
    }
    .candidate-input:focus {
        border-color: #28a745;
        box-shadow: 0 0 10px rgba(40, 167, 69, 0.5);
        outline: none;
        transform: scale(1.02);
    }
    .photo-upload {
        display: flex;
        align-items: center;
        gap: 10px;
    }
    .photo-upload input[type="file"] {
        display: none;
    }
    .photo-upload label {
        background: linear-gradient(45deg, #17a2b8, #6f42c1);
        color: white;
        border: none;
        border-radius: 8px;
        padding: 8px 15px;
        cursor: pointer;
        font-size: 14px;
        font-weight: bold;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        animation: buttonPulse 3s infinite;
    }
    .photo-upload label:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    .photo-name {
        font-size: 14px;
        color: #555;
        max-width: 150px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
    .vote-btn {
        background: linear-gradient(45deg, #28a745, #20c997);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
        font-size: 16px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        animation: voteButtonPulse 2s infinite;
    }
    @keyframes voteButtonPulse {
        0% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0.7); }
        70% { box-shadow: 0 0 0 10px rgba(40, 167, 69, 0); }
        100% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0); }
    }
    .vote-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    .vote-btn:active {
        transform: translateY(1px);
    }
    .vote-btn:disabled {
        background: linear-gradient(45deg, #cccccc, #999999);
        cursor: not-allowed;
        animation: none;
        box-shadow: none;
    }
    .save-container {
        text-align: center;
        margin-top: 30px;
        padding: 20px;
        animation: fadeIn 1.5s ease-out;
    }
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    .save-btn {
        background: linear-gradient(45deg, #007bff, #6610f2);
        color: white;
        border: none;
        padding: 15px 40px;
        margin-top: 20px;
        cursor: pointer;
        font-size: 20px;
        font-weight: bold;
        border-radius: 50px;
        transition: all 0.3s ease;
        box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        animation: saveButtonPulse 3s infinite;
    }
    @keyframes saveButtonPulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
    }
    .save-btn:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        background: linear-gradient(45deg, #0056b3, #520dc2);
    }
    .add-candidate-btn {
        background: linear-gradient(45deg, #ff6600, #ff3366);
        color: white;
        border: none;
        padding: 15px 40px;
        margin-top: 20px;
        margin-left: 20px;
        cursor: pointer;
        font-size: 20px;
        font-weight: bold;
        border-radius: 50px;
        transition: all 0.3s ease;
        box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        animation: saveButtonPulse 3s infinite;
    }
    .add-candidate-btn:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        background: linear-gradient(45deg, #e55a00, #e02955);
    }
    .select-btn, .unselect-btn {
        background: linear-gradient(45deg, #6f42c1, #e83e8c);
        color: white;
        border: none;
        padding: 15px 40px;
        margin-top: 20px;
        margin-left: 20px;
        cursor: pointer;
        font-size: 20px;
        font-weight: bold;
        border-radius: 50px;
        transition: all 0.3s ease;
        box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        animation: saveButtonPulse 3s infinite;
    }
    .select-btn:hover, .unselect-btn:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    }
    .select-btn:hover {
        background: linear-gradient(45deg, #5a32a3, #d63384);
    }
    .unselect-btn:hover {
        background: linear-gradient(45deg, #5a32a3, #d63384);
    }
    .reset-btn {
        background: linear-gradient(45deg, #dc3545, #c82333);
        color: white;
        border: none;
        padding: 15px 40px;
        margin-top: 20px;
        margin-left: 20px;
        cursor: pointer;
        font-size: 20px;
        font-weight: bold;
        border-radius: 50px;
        transition: all 0.3s ease;
        box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        animation: saveButtonPulse 3s infinite;
    }
    .reset-btn:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        background: linear-gradient(45deg, #c82333, #bd2130);
    }
    .notification {
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 15px 25px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        display: none;
        z-index: 1000;
        font-weight: bold;
        animation: slideInRight 0.5s ease-out;
    }
    @keyframes slideInRight {
        from { transform: translateX(100%); }
        to { transform: translateX(0); }
    }
    .background-element {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(0,0,0,0) 70%);
        z-index: -1;
        pointer-events: none;
    }
    .floating-shapes {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        overflow: hidden;
    }
    .shape {
        position: absolute;
        opacity: 0.1;
        animation: float 20s infinite linear;
    }
    @keyframes float {
        0% { transform: translateY(100vh) rotate(0deg); }
        100% { transform: translateY(-100px) rotate(360deg); }
    }
    
    /* Results Section Styles */
    .results-section {
        max-width: 1000px;
        margin: 40px auto;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        padding: 20px;
        animation: slideUp 1.5s ease-out;
    }
    .results-title {
        font-family: 'Sitka Banner', 'Segoe UI', Tahoma, Geneva, Verdana, serif;
        font-size: 36px;
        font-weight: bold;
        color: #28a745;
        text-align: center;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        margin-bottom: 20px;
        text-decoration: underline;
        animation: pulse 2s infinite, rainbow 8s linear infinite;
    }
    .results-table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
    }
    .results-table th, .results-table td {
        text-align: left;
        padding: 12px;
        border-bottom: 1px solid #ddd;
    }
    .results-table th {
        background: linear-gradient(45deg, #ff6600, #ff3366);
        color: white;
        font-weight: bold;
        font-size: 18px;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        animation: headerGlow 3s infinite alternate;
    }
    .results-table tr:nth-child(even) {
        background-color: rgba(255, 240, 245, 0.7);
    }
    .results-table tr:nth-child(odd) {
        background-color: rgba(255, 250, 240, 0.7);
    }
    .results-table tr:hover {
        background-color: rgba(255, 230, 240, 0.9);
        transform: scale(1.02);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
    }
    .candidate-name {
        font-weight: bold;
        color: #333;
    }
    .vote-count {
        font-weight: bold;
        color: #28a745;
        font-size: 18px;
    }
    .vote-bar {
        height: 20px;
        background: linear-gradient(45deg, #28a745, #20c997);
        border-radius: 10px;
        margin-top: 5px;
        animation: growBar 1.5s ease-out;
    }
    @keyframes growBar {
        from { width: 0; }
    }
    .no-votes {
        text-align: center;
        padding: 20px;
        font-size: 18px;
        color: #666;
        animation: fadeIn 1s ease-out;
    }
    .total-votes {
        text-align: center;
        font-size: 20px;
        font-weight: bold;
        color: #ff6600;
        margin-top: 15px;
        animation: pulse 2s infinite;
    }
    
    /* Result Checking Section Styles */
    .result-checking-section {
        display: none;
        padding: 20px;
        animation: fadeIn 1s ease-out;
    }
    .result-checking-title {
        font-family: 'Sitka Banner', 'Segoe UI', Tahoma, Geneva, Verdana, serif;
        font-size: 36px;
        font-weight: bold;
        color: #28a745;
        text-align: center;
        margin-bottom: 30px;
        text-decoration: underline;
        animation: pulse 2s infinite, rainbow 8s linear infinite;
    }
    
    /* Image Modal Styles */
    .image-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.9);
        z-index: 2000;
        justify-content: center;
        align-items: center;
    }
    .modal-content {
        position: relative;
        max-width: 90%;
        max-height: 90%;
    }
    .modal-content img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        border-radius: 8px;
    }
    .close-modal {
        position: absolute;
        top: -40px;
        right: 0;
        color: white;
        font-size: 30px;
        font-weight: bold;
        cursor: pointer;
    }
    .modal-caption {
        position: absolute;
        bottom: -40px;
        left: 0;
        right: 0;
        color: white;
        text-align: center;
        font-size: 18px;
    }
    
    /* Login Modal Styles */
    .login-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 3000;
        justify-content: center;
        align-items: center;
    }
    .login-container {
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        width: 400px;
        max-width: 90%;
        animation: slideUp 0.5s ease-out;
    }
    .login-title {
        font-family: 'Sitka Banner', 'Segoe UI', Tahoma, Geneva, Verdana, serif;
        font-size: 24px;
        font-weight: bold;
        color: #28a745;
        text-align: center;
        margin-bottom: 20px;
    }
    .login-form {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }
    .login-input {
        padding: 12px;
        border: 2px solid #ddd;
        border-radius: 8px;
        font-size: 16px;
        transition: all 0.3s ease;
    }
    .login-input:focus {
        border-color: #28a745;
        box-shadow: 0 0 10px rgba(40, 167, 69, 0.5);
        outline: none;
    }
    .login-btn {
        background: linear-gradient(45deg, #28a745, #20c997);
        color: white;
        border: none;
        padding: 12px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
        font-size: 16px;
        transition: all 0.3s ease;
    }
    .login-btn:hover {
        background: linear-gradient(45deg, #218838, #1e7e34);
    }
    .login-error {
        color: #dc3545;
        text-align: center;
        margin-top: 10px;
        font-weight: bold;
    }
    .close-login {
        position: absolute;
        top: 15px;
        right: 15px;
        font-size: 24px;
        cursor: pointer;
        color: #999;
    }
    .close-login:hover {
        color: #333;
    }
    
    /* Second Page Styles */
    .second-page {
        display: none;
        padding: 20px;
        animation: fadeIn 1s ease-out;
    }
    .second-page-title {
        font-family: 'Sitka Banner', 'Segoe UI', Tahoma, Geneva, Verdana, serif;
        font-size: 36px;
        font-weight: bold;
        color: #28a745;
        text-align: center;
        margin-bottom: 30px;
        text-decoration: underline;
        animation: pulse 2s infinite, rainbow 8s linear infinite;
    }
    .candidate-cards-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
        max-width: 1200px;
        margin: 0 auto;
    }
    .candidate-card {
        background: rgba(255, 255, 255, 0.9);
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        overflow: hidden;
        transition: all 0.3s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
    }
    .candidate-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0,0,0,0.3);
    }
    .candidate-card-image {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        object-fit: cover;
        border: 4px solid #28a745;
        margin-bottom: 15px;
    }
    .candidate-card-name {
        font-size: 20px;
        font-weight: bold;
        color: #333;
        margin-bottom: 15px;
        text-align: center;
    }
    .candidate-card-vote-btn {
        background: linear-gradient(45deg, #28a745, #20c997);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 25px;
        cursor: pointer;
        font-weight: bold;
        font-size: 16px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        animation: voteButtonPulse 2s infinite;
    }
    .candidate-card-vote-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    .back-button-container {
        text-align: center;
        margin-top: 30px;
    }
    .back-btn {
        background: linear-gradient(45deg, #6c757d, #5a6268);
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 25px;
        cursor: pointer;
        font-weight: bold;
        font-size: 16px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .back-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
</style>
</head>
<body>
<div class="flag-background"></div>
<div class="background-element"></div>
<div class="floating-shapes">
    <div class="shape" style="width: 80px; height: 80px; background: #ff6600; border-radius: 50%; left: 10%; animation-delay: 0s;"></div>
    <div class="shape" style="width: 60px; height: 60px; background: #28a745; border-radius: 50%; left: 20%; animation-delay: 2s;"></div>
    <div class="shape" style="width: 100px; height: 100px; background: #007bff; border-radius: 50%; left: 30%; animation-delay: 5s;"></div>
    <div class="shape" style="width: 70px; height: 70px; background: #ff3366; border-radius: 50%; left: 40%; animation-delay: 7s;"></div>
    <div class="shape" style="width: 90px; height: 90px; background: #9933ff; border-radius: 50%; left: 50%; animation-delay: 1s;"></div>
    <div class="shape" style="width: 120px; height: 120px; background: #ffcc00; border-radius: 50%; left: 60%; animation-delay: 4s;"></div>
    <div class="shape" style="width: 50px; height: 50px; background: #20c997; border-radius: 50%; left: 70%; animation-delay: 6s;"></div>
    <div class="shape" style="width: 80px; height: 80px; background: #fd7e14; border-radius: 50%; left: 80%; animation-delay: 3s;"></div>
    <div class="shape" style="width: 110px; height: 110px; background: #e83e8c; border-radius: 50%; left: 90%; animation-delay: 8s;"></div>
</div>
<!-- Navigation Bar -->
<nav class="navbar">
    <a href="#" class="navbar-brand">
        <img src="https://z-cdn-media.chatglm.cn/files/86f457f1-8867-43f6-ab0e-2d1f58cb7ee6_pasted_image_1756517505702.png?auth_key=1788053619-47e0ba445e744ed9974c1bbd123c7ff8-0-7c7c253dd67983bcf13b7c1020ac0b9d" alt="Indian Flag">
        INDIA VOTING 
    </a>
    <div class="navbar-links">
        <a href="#" id="homeLink">HOME</a>
        <a href="#" id="indiaVoteLink">INDIA VOTE</a>
        <a href="#" id="resultCheckingLink">RESULT CHECKING</a>
        <a href="#" id="logoutLink" class="logout-btn">LOGOUT</a>
    </div>
</nav>
<!-- Login Form -->
<div class="login-container" id="loginContainer">
    <h2 class="login-title">USER LOGIN</h2>
    <form id="loginForm">
        <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" id="username" class="form-control" placeholder="Enter your username" required>
        </div>
        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password" class="form-control" placeholder="Enter your password" required>
        </div>
        <div class="checkbox-group">
            <input type="checkbox" id="showPassword">
            <label for="showPassword">Show Password</label>
        </div>
        <button type="submit" class="login-btn">LOGIN</button>
    </form>
</div>
<!-- Vote Checking Login Form -->
<div class="vote-check-login-container" id="voteCheckLoginContainer">
    <h2 class="vote-check-login-title">RESULT CHECKING LOGIN</h2>
    <form id="voteCheckLoginForm">
        <div class="form-group">
            <label for="voteCheckUsername">Username:</label>
            <input type="text" id="voteCheckUsername" class="form-control" placeholder="Enter your username" required>
        </div>
        <div class="form-group">
            <label for="voteCheckPassword">Password:</label>
            <input type="password" id="voteCheckPassword" class="form-control" placeholder="Enter your password" required>
        </div>
        <div class="checkbox-group">
            <input type="checkbox" id="showVoteCheckPassword">
            <label for="showVoteCheckPassword">Show Password</label>
        </div>
        <button type="submit" class="vote-check-login-btn">LOGIN TO CHECK RESULTS</button>
    </form>
</div>
<!-- Welcome Screen -->
<div class="welcome-screen" id="welcomeScreen" style="display: none;">
    <div class="welcome-content">
        <h2 class="welcome-title"> INDIAN VOTING</h2>
        <p class="welcome-message" id="welcomeMessage">Thank you for logging in! Your vote is your voice.</p>
        <button class="welcome-btn" id="welcomeBtn">CONTINUE TO HOME</button>
    </div>
</div>
<!-- Logout Screen -->
<div class="logout-screen" id="logoutScreen" style="display: none;">
    <div class="logout-content">
        <h2 class="logout-title">THANK YOU FOR PARTICIPATING</h2>
        <p class="logout-message">Your vote has been recorded. Democracy thrives when citizens participate.</p>
        <button class="logout-btn" id="finalLogoutBtn">FINAL LOGOUT</button>
    </div>
</div>
<!-- Home Section -->
<div class="home-section" id="homeSection">
    <h2 class="home-title"> INDIA VOTING </h2>
    
    <!-- Image Search Section -->
    <div class="image-search-container">
        <h3 class="feedback-title">IMAGE GALLERY</h3>
        <div class="search-box">
            <input type="text" id="imageSearch" class="search-input" placeholder="Search for images...">
            <button id="searchBtn" class="search-btn">Search</button>
        </div>
        <div id="imageGallery" class="image-gallery">
            <!-- Images will be loaded here -->
        </div>
    </div>
    
    <!-- Admission Section -->
    <div class="admission-section">
        <h2 class="admission-title">STUDENTS</h2>
        <div id="admissionGrid" class="admission-grid">
            <!-- Admission boxes will be generated here -->
        </div>
    </div>
</div>
<!-- Image Modal -->
<div id="imageModal" class="image-modal">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <img id="modalImage" src="" alt="">
        <div id="modalCaption" class="modal-caption"></div>
    </div>
</div>
<!-- Voting Section -->
<div class="voting-section" id="votingSection">
    <div class="header">
        <h1>VOTE</h1>
    </div>
    
    <!-- Profile Image Upload Section -->
    <div class="profile-section">
        <div class="profile-image-container" id="profileImageContainer">
            <div class="profile-placeholder">ðŸ‘¤</div>
        </div>
        <div class="profile-upload">
            <input type="file" id="profileImageUpload" accept="image/*">
            <label for="profileImageUpload" class="profile-upload-btn">Upload Photo</label>
            <div class="profile-name" id="profileName">Your Profile</div>
        </div>
    </div>
    
    <div class="table-container">
        <table id="myTable">
            <thead>
                <tr>
                    <th>Candidate Name</th>
                    <th>Photo</th>
                    <th>Vote</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type="text" class="candidate-input" placeholder="Enter candidate name"></td>
                    <td>
                        <div class="candidate-photo-container">
                            <img src="" alt="Candidate Photo" class="candidate-photo" style="display: none;">
                            <div class="photo-placeholder">No Photo</div>
                        </div>
                        <div class="photo-upload">
                            <input type="file" id="photo1" name="photo1">
                            <label for="photo1">Choose Photo</label>
                        </div>
                    </td>
                    <td><button class="vote-btn" disabled>VOTE</button></td>
                </tr>
                <tr>
                    <td><input type="text" class="candidate-input" placeholder="Enter candidate name"></td>
                    <td>
                        <div class="candidate-photo-container">
                            <img src="" alt="Candidate Photo" class="candidate-photo" style="display: none;">
                            <div class="photo-placeholder">No Photo</div>
                        </div>
                        <div class="photo-upload">
                            <input type="file" id="photo2" name="photo2">
                            <label for="photo2">Choose Photo</label>
                        </div>
                    </td>
                    <td><button class="vote-btn" disabled>VOTE</button></td>
                </tr>
                <tr>
                    <td><input type="text" class="candidate-input" placeholder="Enter candidate name"></td>
                    <td>
                        <div class="candidate-photo-container">
                            <img src="" alt="Candidate Photo" class="candidate-photo" style="display: none;">
                            <div class="photo-placeholder">No Photo</div>
                        </div>
                        <div class="photo-upload">
                            <input type="file" id="photo3" name="photo3">
                            <label for="photo3">Choose Photo</label>
                        </div>
                    </td>
                    <td><button class="vote-btn" disabled>VOTE</button></td>
                </tr>
            </tbody>
        </table>
        
        <div class="save-container">
            <button class="save-btn" id="saveBtn">SAVE</button>
            <button class="add-candidate-btn" id="addCandidateBtn">ADD CANDIDATE</button>
            <button class="select-btn" id="selectBtn">SELECT</button>
            <button class="unselect-btn" id="unselectBtn">UNSELECT</button>
        </div>
    </div>
</div>
<!-- Second Page (Voting Cards) -->
<div class="second-page" id="secondPage">
    <h2 class="second-page-title">SELECT CANDIDATE TO VOTE</h2>
    <div id="candidateCards" class="candidate-cards-container">
        <!-- Candidate cards will be generated here -->
    </div>
    <div class="back-button-container">
        <button class="back-btn" id="backBtn">BACK TO CANDIDATE LIST</button>
    </div>
</div>
<!-- Result Checking Section -->
<div class="result-checking-section" id="resultCheckingSection">
    <h2 class="result-checking-title">VOTING RESULTS</h2>
    
    <!-- Results Section -->
    <div class="results-section">
        <h2 class="results-title">INDIA VOTING results-title</h2>
        <div id="resultsContainer">
            <!-- Results will be displayed here -->
        </div>
        <div class="save-container">
            <button class="reset-btn" id="resetBtn">RESET RESULTS</button>
        </div>
    </div>
</div>
<!-- Login Modal -->
<div id="loginModal" class="login-modal">
    <div class="login-container">
        <span class="close-login">&times;</span>
        <h2 class="login-title">Admin Login</h2>
        <div class="login-form">
            <input type="text" id="modalUsername" class="login-input" placeholder="Username">
            <input type="password" id="modalPassword" class="login-input" placeholder="Password">
            <button id="modalLoginBtn" class="login-btn">LOGIN</button>
            <div id="modalLoginError" class="login-error"></div>
        </div>
    </div>
</div>
<div class="notification" id="notification"></div>
<script>
// Initialize voter count
let totalVoters = parseInt(localStorage.getItem('totalVoters')) || 0;
let candidateCount = 3; // Starting with 3 candidates
let isLoggedIn = false;
let isVoteCheckLoggedIn = false;
// Image database - 3000 sample images with keywords
const imageDatabase = [
    { id: 1, url: 'https://picsum.photos/300/200?random=1', keywords: ['nature', 'mountain', 'landscape'], caption: 'Mountain Landscape' },
    { id: 2, url: 'https://picsum.photos/300/200?random=2', keywords: ['ocean', 'beach', 'water'], caption: 'Ocean Beach' },
    { id: 3, url: 'https://picsum.photos/300/200?random=3', keywords: ['forest', 'trees', 'green'], caption: 'Forest Path' },
    { id: 4, url: 'https://picsum.photos/300/200?random=4', keywords: ['city', 'buildings', 'urban'], caption: 'City Skyline' },
    { id: 5, url: 'https://picsum.photos/300/200?random=5', keywords: ['sunset', 'orange', 'sky'], caption: 'Sunset View' },
    { id: 6, url: 'https://picsum.photos/300/200?random=6', keywords: ['flower', 'garden', 'plant'], caption: 'Flower Garden' },
    { id: 7, url: 'https://picsum.photos/300/200?random=7', keywords: ['animal', 'wildlife', 'nature'], caption: 'Wildlife' },
    { id: 8, url: 'https://picsum.photos/300/200?random=8', keywords: ['river', 'water', 'flow'], caption: 'River Flow' },
    { id: 9, url: 'https://picsum.photos/300/200?random=9', keywords: ['desert', 'sand', 'dry'], caption: 'Desert Dunes' },
    { id: 10, url: 'https://picsum.photos/300/200?random=10', keywords: ['snow', 'winter', 'cold'], caption: 'Snow Landscape' },
    { id: 11, url: 'https://picsum.photos/300/200?random=11', keywords: ['lake', 'water', 'reflection'], caption: 'Lake Reflection' },
    { id: 12, url: 'https://picsum.photos/300/200?random=12', keywords: ['cloud', 'sky', 'blue'], caption: 'Cloudy Sky' },
    { id: 13, url: 'https://picsum.photos/300/200?random=13', keywords: ['road', 'journey', 'path'], caption: 'Mountain Road' },
    { id: 14, url: 'https://picsum.photos/300/200?random=14', keywords: ['house', 'home', 'building'], caption: 'Country House' },
    { id: 15, url: 'https://picsum.photos/300/200?random=15', keywords: ['boat', 'water', 'sail'], caption: 'Sailing Boat' },
    { id: 16, url: 'https://picsum.photos/300/200?random=16', keywords: ['bird', 'fly', 'sky'], caption: 'Flying Bird' },
    { id: 17, url: 'https://picsum.photos/300/200?random=17', keywords: ['field', 'grass', 'green'], caption: 'Green Field' },
    { id: 18, url: 'https://picsum.photos/300/200?random=18', keywords: ['bridge', 'river', 'cross'], caption: 'River Bridge' },
    { id: 19, url: 'https://picsum.photos/300/200?random=19', keywords: ['castle', 'old', 'history'], caption: 'Ancient Castle' },
    { id: 20, url: 'https://picsum.photos/300/200?random=20', keywords: ['cave', 'dark', 'rock'], caption: 'Dark Cave' }
];
// Generate 3000 images
for (let i = 21; i <= 3000; i++) {
    const categories = ['nature', 'city', 'animal', 'plant', 'water', 'mountain', 'forest', 'beach', 'sunset', 'flower'];
    const randomCategory = categories[Math.floor(Math.random() * categories.length)];
    const randomKeywords = [randomCategory];
    
    // Add 1-3 random keywords
    const additionalKeywords = ['beautiful', 'scenic', 'stunning', 'amazing', 'breathtaking', 'colorful', 'vibrant', 'peaceful', 'serene', 'tranquil'];
    const numAdditionalKeywords = Math.floor(Math.random() * 3) + 1;
    
    for (let j = 0; j < numAdditionalKeywords; j++) {
        const randomKeyword = additionalKeywords[Math.floor(Math.random() * additionalKeywords.length)];
        if (!randomKeywords.includes(randomKeyword)) {
            randomKeywords.push(randomKeyword);
        }
    }
    
    imageDatabase.push({
        id: i,
        url: `https://picsum.photos/300/200?random=${i}`,
        keywords: randomKeywords,
        caption: `${randomCategory.charAt(0).toUpperCase() + randomCategory.slice(1)} Scene #${i}`
    });
}
// Initialize the page
function initializePage() {
    // Check if user is already logged in
    if (sessionStorage.getItem('isLoggedIn') === 'true') {
        showWelcomeScreen();
        document.getElementById('logoutLink').style.display = 'block';
        
        // Set welcome message with username
        const username = sessionStorage.getItem('username') || 'User';
        document.getElementById('welcomeMessage').textContent = `Welcome, ${username}! Thank you for logging in to the Indian Voting System.`;
    } else {
        // Show login form
        showLoginForm();
    }
    
    // Initialize admission boxes
    initializeAdmission();
    
    // Initialize candidate photos
    initializeCandidatePhotos();
    
    // Display results
    displayResults();
}
// Initialize admission boxes
function initializeAdmission() {
    const admissionGrid = document.getElementById('admissionGrid');
    admissionGrid.innerHTML = '';
    
    // Load saved admission data
    const savedAdmissionData = JSON.parse(localStorage.getItem('admissionData')) || [];
    
    // Define colors for each box
    const colors = [
        'linear-gradient(45deg, #ff6b6b, #ee5a24)',
        'linear-gradient(45deg, #4ecdc4, #44a08d)',
        'linear-gradient(45deg, #1e90ff, #00bfff)',
        'linear-gradient(45deg, #9370db, #8a2be2)',
        'linear-gradient(45deg, #ff7f50, #ff6347)',
        'linear-gradient(45deg, #32cd32, #228b22)',
        'linear-gradient(45deg, #ff69b4, #ff1493)',
        'linear-gradient(45deg, #ffd700, #ffb347)',
        'linear-gradient(45deg, #00ced1, #008b8b)'
    ];
    
    // Create 40 admission boxes
    for (let i = 1; i <= 40; i++) {
        const box = document.createElement('div');
        const colorIndex = (i - 1) % colors.length;
        box.className = 'admission-box';
        box.style.background = colors[colorIndex];
        box.innerHTML = `
            <div class="admission-number">#${i}</div>
            <div class="admission-image-container" id="admissionImageContainer${i}">
                <div class="admission-placeholder">ðŸ“·</div>
            </div>
            <div class="admission-upload">
                <input type="file" id="admissionImage${i}" accept="image/*">
                <label for="admissionImage${i}" class="admission-upload-btn">Upload Photo</label>
            </div>
            <input type="text" class="admission-name-input" id="admissionName${i}" placeholder="Enter name">
        `;
        
        admissionGrid.appendChild(box);
        
        // Load saved data if exists
        const savedItem = savedAdmissionData.find(item => item.id === i);
        if (savedItem) {
            if (savedItem.image) {
                displayAdmissionImage(i, savedItem.image);
            }
            if (savedItem.name) {
                document.getElementById(`admissionName${i}`).value = savedItem.name;
            }
        }
        
        // Add event listener to file input
        document.getElementById(`admissionImage${i}`).addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    const imageData = event.target.result;
                    displayAdmissionImage(i, imageData);
                    
                    // Save admission data to localStorage
                    saveAdmissionData();
                    
                    showNotification('Photo uploaded successfully!');
                };
                reader.readAsDataURL(file);
            }
        });
        
        // Add event listener to name input
        document.getElementById(`admissionName${i}`).addEventListener('input', function() {
            // Save admission data to localStorage
            saveAdmissionData();
        });
    }
}
// Function to display admission image
function displayAdmissionImage(boxId, imageData) {
    const container = document.getElementById(`admissionImageContainer${boxId}`);
    container.innerHTML = `<img src="${imageData}" alt="Admission Image" class="admission-image">`;
}
// Function to save admission data
function saveAdmissionData() {
    const admissionData = [];
    
    for (let i = 1; i <= 40; i++) {
        const imageElement = document.querySelector(`#admissionImageContainer${i} .admission-image`);
        const nameInput = document.getElementById(`admissionName${i}`);
        
        const item = {
            id: i,
            image: imageElement ? imageElement.src : null,
            name: nameInput.value
        };
        
        admissionData.push(item);
    }
    
    localStorage.setItem('admissionData', JSON.stringify(admissionData));
}
// Load images into the gallery
function loadImages(images) {
    const imageGallery = document.getElementById('imageGallery');
    imageGallery.innerHTML = '';
    
    if (images.length === 0) {
        imageGallery.innerHTML = '<div class="no-results">No images found. Try a different search term.</div>';
        return;
    }
    
    images.forEach(image => {
        const imageItem = document.createElement('div');
        imageItem.className = 'image-item';
        imageItem.innerHTML = `
            <img src="${image.url}" alt="${image.caption}">
            <div class="image-caption">${image.caption}</div>
        `;
        
        imageItem.addEventListener('click', function() {
            showImageModal(image);
        });
        
        imageGallery.appendChild(imageItem);
    });
}
// Show image in modal
function showImageModal(image) {
    const modal = document.getElementById('imageModal');
    const modalImage = document.getElementById('modalImage');
    const modalCaption = document.getElementById('modalCaption');
    
    modalImage.src = image.url;
    modalCaption.textContent = image.caption;
    modal.style.display = 'flex';
}
// Search images
function searchImages(query) {
    if (!query.trim()) {
        // If query is empty, show first 20 images
        loadImages(imageDatabase.slice(0, 20));
        return;
    }
    
    const lowercaseQuery = query.toLowerCase();
    const filteredImages = imageDatabase.filter(image => {
        // Check if query matches any keywords or caption
        return image.keywords.some(keyword => keyword.toLowerCase().includes(lowercaseQuery)) ||
               image.caption.toLowerCase().includes(lowercaseQuery);
    });
    
    loadImages(filteredImages);
}
// Show password functionality
document.getElementById('showPassword').addEventListener('change', function() {
    const passwordInput = document.getElementById('password');
    if (this.checked) {
        passwordInput.type = 'text';
    } else {
        passwordInput.type = 'password';
    }
});
// Show vote check password functionality
document.getElementById('showVoteCheckPassword').addEventListener('change', function() {
    const passwordInput = document.getElementById('voteCheckPassword');
    if (this.checked) {
        passwordInput.type = 'text';
    } else {
        passwordInput.type = 'password';
    }
});
// Login form submission
document.getElementById('loginForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    
    // Check for specific credentials
    if (username === "HABIBULLAH" && password === "HABIBULLAH1578") {
        // Store login state
        sessionStorage.setItem('isLoggedIn', 'true');
        sessionStorage.setItem('username', username);
        
        // Show notification
        showNotification(`Welcome, ${username}! You have successfully logged in.`);
        
        // Trigger confetti
        confetti({
            particleCount: 100,
            spread: 70,
            origin: { y: 0.6 }
        });
        
        // Show welcome screen after a short delay
        setTimeout(() => {
            showWelcomeScreen();
            document.getElementById('logoutLink').style.display = 'block';
            
            // Set welcome message with username
            document.getElementById('welcomeMessage').textContent = `Welcome, ${username}! Thank you for logging in to the Indian Voting System.`;
        }, 1000);
    } else {
        showNotification('Invalid username or password. Please try again.', true);
    }
});
// Vote checking login form submission
document.getElementById('voteCheckLoginForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const username = document.getElementById('voteCheckUsername').value;
    const password = document.getElementById('voteCheckPassword').value;
    
    // Check for specific credentials
    if (username === "HABIBULLAH" && password === "HABIBULLAH1578") {
        // Store login state
        sessionStorage.setItem('isVoteCheckLoggedIn', 'true');
        sessionStorage.setItem('voteCheckUsername', username);
        
        // Show notification
        showNotification(`Welcome, ${username}! You have successfully logged in to check results.`);
        
        // Trigger confetti
        confetti({
            particleCount: 100,
            spread: 70,
            origin: { y: 0.6 }
        });
        
        // Show result checking section after a short delay
        setTimeout(() => {
            showResultCheckingSection();
        }, 1000);
    } else {
        showNotification('Invalid username or password. Please try again.', true);
    }
});
// Welcome button click
document.getElementById('welcomeBtn').addEventListener('click', function() {
    // Hide welcome screen and show home section
    document.getElementById('welcomeScreen').style.display = 'none';
    showHomeSection();
    
    // Trigger more confetti
    confetti({
        particleCount: 150,
        angle: 90,
        spread: 100,
        origin: { x: 0 }
    });
    confetti({
        particleCount: 150,
        angle: 90,
        spread: 100,
        origin: { x: 1 }
    });
});
// Final logout button click
document.getElementById('finalLogoutBtn').addEventListener('click', function() {
    // Clear login state
    sessionStorage.removeItem('isLoggedIn');
    sessionStorage.removeItem('username');
    sessionStorage.removeItem('isVoteCheckLoggedIn');
    sessionStorage.removeItem('voteCheckUsername');
    
    // Hide logout button
    document.getElementById('logoutLink').style.display = 'none';
    
    // Hide logout screen
    document.getElementById('logoutScreen').style.display = 'none';
    
    // Show login form
    showLoginForm();
    
    // Trigger confetti
    confetti({
        particleCount: 200,
        angle: 90,
        spread: 180,
        origin: { y: 0.8 }
    });
    
    // Show notification
    showNotification('You have successfully logged out. Thank you for using the Indian Voting System!');
});
// Show home section and hide login form
function showHomeSection() {
    document.getElementById('loginContainer').style.display = 'none';
    document.getElementById('voteCheckLoginContainer').style.display = 'none';
    document.getElementById('welcomeScreen').style.display = 'none';
    document.getElementById('logoutScreen').style.display = 'none';
    document.getElementById('homeSection').style.display = 'block';
    document.getElementById('votingSection').style.display = 'none';
    document.getElementById('secondPage').style.display = 'none';
    document.getElementById('resultCheckingSection').style.display = 'none';
    isLoggedIn = true;
}
// Show voting section and hide other sections
function showVotingSection() {
    document.getElementById('loginContainer').style.display = 'none';
    document.getElementById('voteCheckLoginContainer').style.display = 'none';
    document.getElementById('welcomeScreen').style.display = 'none';
    document.getElementById('logoutScreen').style.display = 'none';
    document.getElementById('homeSection').style.display = 'none';
    document.getElementById('votingSection').style.display = 'block';
    document.getElementById('secondPage').style.display = 'none';
    document.getElementById('resultCheckingSection').style.display = 'none';
    isLoggedIn = true;
    
    // Load saved profile image if exists
    const savedProfileImage = localStorage.getItem('profileImage');
    if (savedProfileImage) {
        displayProfileImage(savedProfileImage);
    }
    
    // Set profile name
    const username = sessionStorage.getItem('username') || 'User';
    document.getElementById('profileName').textContent = username;
}
// Show second page and hide other sections
function showSecondPage() {
    document.getElementById('loginContainer').style.display = 'none';
    document.getElementById('voteCheckLoginContainer').style.display = 'none';
    document.getElementById('welcomeScreen').style.display = 'none';
    document.getElementById('logoutScreen').style.display = 'none';
    document.getElementById('homeSection').style.display = 'none';
    document.getElementById('votingSection').style.display = 'none';
    document.getElementById('secondPage').style.display = 'block';
    document.getElementById('resultCheckingSection').style.display = 'none';
    isLoggedIn = true;
    
    // Generate candidate cards
    generateCandidateCards();
}
// Show result checking section and hide other sections
function showResultCheckingSection() {
    document.getElementById('loginContainer').style.display = 'none';
    document.getElementById('voteCheckLoginContainer').style.display = 'none';
    document.getElementById('welcomeScreen').style.display = 'none';
    document.getElementById('logoutScreen').style.display = 'none';
    document.getElementById('homeSection').style.display = 'none';
    document.getElementById('votingSection').style.display = 'none';
    document.getElementById('secondPage').style.display = 'none';
    document.getElementById('resultCheckingSection').style.display = 'block';
    isLoggedIn = true;
    isVoteCheckLoggedIn = true;
    
    // Update results display
    displayResults();
}
// Show welcome screen
function showWelcomeScreen() {
    document.getElementById('loginContainer').style.display = 'none';
    document.getElementById('voteCheckLoginContainer').style.display = 'none';
    document.getElementById('welcomeScreen').style.display = 'flex';
    document.getElementById('logoutScreen').style.display = 'none';
    document.getElementById('homeSection').style.display = 'none';
    document.getElementById('votingSection').style.display = 'none';
    document.getElementById('secondPage').style.display = 'none';
    document.getElementById('resultCheckingSection').style.display = 'none';
    isLoggedIn = true;
}
// Show logout screen
function showLogoutScreen() {
    document.getElementById('loginContainer').style.display = 'none';
    document.getElementById('voteCheckLoginContainer').style.display = 'none';
    document.getElementById('welcomeScreen').style.display = 'none';
    document.getElementById('logoutScreen').style.display = 'flex';
    document.getElementById('homeSection').style.display = 'none';
    document.getElementById('votingSection').style.display = 'none';
    document.getElementById('secondPage').style.display = 'none';
    document.getElementById('resultCheckingSection').style.display = 'none';
    isLoggedIn = false;
    isVoteCheckLoggedIn = false;
}
// Show login form and hide other sections
function showLoginForm() {
    document.getElementById('loginContainer').style.display = 'block';
    document.getElementById('voteCheckLoginContainer').style.display = 'none';
    document.getElementById('welcomeScreen').style.display = 'none';
    document.getElementById('logoutScreen').style.display = 'none';
    document.getElementById('homeSection').style.display = 'none';
    document.getElementById('votingSection').style.display = 'none';
    document.getElementById('secondPage').style.display = 'none';
    document.getElementById('resultCheckingSection').style.display = 'none';
    isLoggedIn = false;
    isVoteCheckLoggedIn = false;
}
// Show vote check login form and hide other sections
function showVoteCheckLoginForm() {
    document.getElementById('loginContainer').style.display = 'none';
    document.getElementById('voteCheckLoginContainer').style.display = 'block';
    document.getElementById('welcomeScreen').style.display = 'none';
    document.getElementById('logoutScreen').style.display = 'none';
    document.getElementById('homeSection').style.display = 'none';
    document.getElementById('votingSection').style.display = 'none';
    document.getElementById('secondPage').style.display = 'none';
    document.getElementById('resultCheckingSection').style.display = 'none';
    isLoggedIn = false;
    isVoteCheckLoggedIn = false;
}
// Home link click
document.getElementById('homeLink').addEventListener('click', function(e) {
    e.preventDefault();
    
    if (isLoggedIn) {
        showHomeSection();
        showNotification('You are now on the Home page.');
    } else {
        showNotification('Please log in first to access the system.', true);
    }
});
// India Vote link click
document.getElementById('indiaVoteLink').addEventListener('click', function(e) {
    e.preventDefault();
    
    if (isLoggedIn) {
        showVotingSection();
        showNotification('You are now on the Voting page.');
    } else {
        // Show login form and set a flag to redirect to voting after login
        showLoginForm();
        // Set a flag to redirect to voting after login
        sessionStorage.setItem('redirectAfterLogin', 'voting');
    }
});
// Result Checking link click
document.getElementById('resultCheckingLink').addEventListener('click', function(e) {
    e.preventDefault();
    
    // Always show the vote check login form when clicking the result checking link
    showVoteCheckLoginForm();
});
// Logout link click
document.getElementById('logoutLink').addEventListener('click', function(e) {
    e.preventDefault();
    
    // Show logout screen
    showLogoutScreen();
    
    // Trigger confetti
    confetti({
        particleCount: 100,
        angle: 90,
        spread: 100,
        origin: { y: 0.8 }
    });
});
// Image search functionality
document.getElementById('searchBtn').addEventListener('click', function() {
    const searchQuery = document.getElementById('imageSearch').value;
    searchImages(searchQuery);
});
// Search on Enter key
document.getElementById('imageSearch').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        const searchQuery = this.value;
        searchImages(searchQuery);
    }
});
// Close modal when clicking outside or on close button
document.getElementById('imageModal').addEventListener('click', function(e) {
    if (e.target === this || e.target.classList.contains('close-modal')) {
        this.style.display = 'none';
    }
});
// Profile image upload functionality
document.getElementById('profileImageUpload').addEventListener('change', function(e) {
    const file = e.target.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function(event) {
            const imageData = event.target.result;
            displayProfileImage(imageData);
            
            // Save profile image to localStorage
            localStorage.setItem('profileImage', imageData);
            
            showNotification('Profile image updated successfully!');
        };
        reader.readAsDataURL(file);
    }
});
// Function to display profile image
function displayProfileImage(imageData) {
    const profileImageContainer = document.getElementById('profileImageContainer');
    profileImageContainer.innerHTML = `<img src="${imageData}" alt="Profile Image" class="profile-image">`;
}
// Function to display results
function displayResults() {
    // Get votes from localStorage
    const votes = JSON.parse(localStorage.getItem('votes')) || {};
    
    // Convert votes object to array and sort by vote count
    const candidates = Object.keys(votes).map(name => ({
        name,
        votes: votes[name]
    })).sort((a, b) => b.votes - a.votes);
    
    const resultsContainer = document.getElementById('resultsContainer');
    
    // Calculate total votes
    const totalVotes = candidates.reduce((sum, candidate) => sum + candidate.votes, 0);
    
    // Create results table
    let resultsHTML = `
        <table class="results-table">
            <thead>
                <tr>
                    <th>Candidate</th>
                    <th>Votes</th>
                    <th>Percentage</th>
                </tr>
            </thead>
            <tbody>
    `;
    
    // Add each candidate to the table
    candidates.forEach((candidate) => {
        const percentage = totalVotes > 0 ? ((candidate.votes / totalVotes) * 100).toFixed(1) : 0;
        
        resultsHTML += `
            <tr>
                <td class="candidate-name">${candidate.name}</td>
                <td class="vote-count">${candidate.votes}</td>
                <td>
                    <div>${percentage}%</div>
                    <div class="vote-bar" style="width: ${percentage}%;"></div>
                </td>
            </tr>
        `;
    });
    
    resultsHTML += `
            </tbody>
        </table>
        <div class="total-votes">Total Votes: ${totalVotes}</div>
    `;
    
    resultsContainer.innerHTML = resultsHTML;
}
// Function to handle candidate photo upload
function handleCandidatePhotoUpload(input, candidateIndex) {
    input.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(event) {
                const imageData = event.target.result;
                const photoContainer = input.closest('td').querySelector('.candidate-photo-container');
                const photoImg = photoContainer.querySelector('.candidate-photo');
                const placeholder = photoContainer.querySelector('.photo-placeholder');
                
                // Display the image
                photoImg.src = imageData;
                photoImg.style.display = 'block';
                placeholder.style.display = 'none';
                
                // Save to localStorage
                let candidatePhotos = JSON.parse(localStorage.getItem('candidatePhotos')) || {};
                candidatePhotos[candidateIndex] = imageData;
                localStorage.setItem('candidatePhotos', JSON.stringify(candidatePhotos));
                
                showNotification('Candidate photo uploaded successfully!');
            };
            reader.readAsDataURL(file);
        }
    });
}
// Initialize candidate photo uploads
function initializeCandidatePhotos() {
    // Load saved photos
    const candidatePhotos = JSON.parse(localStorage.getItem('candidatePhotos')) || {};
    
    // Set up event listeners for existing photo inputs
    document.querySelectorAll('input[name^="photo"]').forEach((input, index) => {
        // Load saved photo if exists
        if (candidatePhotos[index]) {
            const photoContainer = input.closest('td').querySelector('.candidate-photo-container');
            const photoImg = photoContainer.querySelector('.candidate-photo');
            const placeholder = photoContainer.querySelector('.photo-placeholder');
            
            photoImg.src = candidatePhotos[index];
            photoImg.style.display = 'block';
            placeholder.style.display = 'none';
        }
        
        // Add event listener
        handleCandidatePhotoUpload(input, index);
    });
}
// Save button functionality
document.getElementById('saveBtn').addEventListener('click', function() {
    // Add animation to the button
    this.style.animation = 'pulse 0.5s';
    
    // Enable all vote buttons with animation
    document.querySelectorAll('.vote-btn').forEach((button, index) => {
        setTimeout(() => {
            button.disabled = false;
            button.style.animation = 'fadeIn 0.5s';
        }, index * 100);
    });
    
    // Show notification with rainbow effect
    showNotification('Data saved successfully! You can now vote.');
    
    // Reset button animation
    setTimeout(() => {
        this.style.animation = 'saveButtonPulse 3s infinite';
    }, 500);
});
// Add Candidate button functionality
document.getElementById('addCandidateBtn').addEventListener('click', function() {
    candidateCount++;
    
    // Get the table body
    const tableBody = document.querySelector('#myTable tbody');
    
    // Create a new row
    const newRow = document.createElement('tr');
    newRow.innerHTML = `
        <td><input type="text" class="candidate-input" placeholder="Enter candidate name"></td>
        <td>
            <div class="candidate-photo-container">
                <img src="" alt="Candidate Photo" class="candidate-photo" style="display: none;">
                <div class="photo-placeholder">No Photo</div>
            </div>
            <div class="photo-upload">
                <input type="file" id="photo${candidateCount}" name="photo${candidateCount}">
                <label for="photo${candidateCount}">Choose Photo</label>
            </div>
        </td>
        <td><button class="vote-btn" disabled>VOTE</button></td>
    `;
    
    // Add the new row to the table
    tableBody.appendChild(newRow);
    
    // Add event listener to the new file input
    const newFileInput = newRow.querySelector('input[type="file"]');
    handleCandidatePhotoUpload(newFileInput, candidateCount - 1);
    
    // Add event listener to the new vote button
    const newVoteBtn = newRow.querySelector('.vote-btn');
    newVoteBtn.addEventListener('click', function() {
        const row = this.closest('tr');
        const candidateName = row.querySelector('.candidate-input').value;
        
        if (candidateName.trim() === '') {
            showNotification('Please enter a candidate name before voting.', true);
            return;
        }
        
        // Add animation to the clicked button
        this.style.animation = 'pulse 0.5s';
        
        // Store the vote in localStorage
        let votes = JSON.parse(localStorage.getItem('votes')) || {};
        votes[candidateName] = (votes[candidateName] || 0) + 1;
        localStorage.setItem('votes', JSON.stringify(votes));
        
        // Update results display
        displayResults();
        
        // Show notification with rainbow effect
        showNotification(`You have successfully voted for ${candidateName}! Thank you for participating.`);
        
        // Trigger confetti
        confetti({
            particleCount: 100,
            spread: 70,
            origin: { y: 0.6 }
        });
        
        // Disable this vote button temporarily to prevent multiple rapid votes
        this.disabled = true;
        
        setTimeout(() => {
            // Re-enable the button after a short delay to allow another vote
            this.disabled = false;
        }, 3000);
        
        // Reset button animation
        setTimeout(() => {
            this.style.animation = '';
        }, 500);
    });
    
    // Show notification
    showNotification('New candidate added successfully!');
});
// Reset button functionality
document.getElementById('resetBtn').addEventListener('click', function() {
    // Clear votes from localStorage
    localStorage.removeItem('votes');
    
    // Reset total voters to 0
    totalVoters = 0;
    localStorage.setItem('totalVoters', totalVoters);
    
    // Update results display
    displayResults();
    
    // Disable all vote buttons
    document.querySelectorAll('.vote-btn').forEach(button => {
        button.disabled = true;
    });
    
    // Show notification
    showNotification('Voting results have been reset successfully!');
});
// SELECT button functionality
document.getElementById('selectBtn').addEventListener('click', function() {
    // Disable all candidate input fields
    document.querySelectorAll('.candidate-input').forEach(input => {
        input.disabled = true;
    });
    
    // Disable all photo upload inputs
    document.querySelectorAll('input[name^="photo"]').forEach(input => {
        input.disabled = true;
    });
    
    // Disable all photo upload labels
    document.querySelectorAll('.photo-upload label').forEach(label => {
        label.style.pointerEvents = 'none';
        label.style.opacity = '0.5';
    });
    
    // Show notification
    showNotification('Candidate information locked. Redirecting to voting page...');
    
    // Navigate to second page after a short delay
    setTimeout(() => {
        showSecondPage();
    }, 1500);
});
// UNSELECT button functionality
document.getElementById('unselectBtn').addEventListener('click', function() {
    // Show login modal
    document.getElementById('loginModal').style.display = 'flex';
    
    // Clear previous error
    document.getElementById('modalLoginError').textContent = '';
    
    // Clear input fields
    document.getElementById('modalUsername').value = '';
    document.getElementById('modalPassword').value = '';
});
// Close login modal
document.querySelector('.close-login').addEventListener('click', function() {
    document.getElementById('loginModal').style.display = 'none';
});
// Modal login button functionality
document.getElementById('modalLoginBtn').addEventListener('click', function() {
    const username = document.getElementById('modalUsername').value;
    const password = document.getElementById('modalPassword').value;
    const errorElement = document.getElementById('modalLoginError');
    
    // Check credentials
    if (username === 'AHMADULLAH' && password === 'AHMADULLAH1578') {
        // Enable all candidate input fields
        document.querySelectorAll('.candidate-input').forEach(input => {
            input.disabled = false;
        });
        
        // Enable all photo upload inputs
        document.querySelectorAll('input[name^="photo"]').forEach(input => {
            input.disabled = false;
        });
        
        // Enable all photo upload labels
        document.querySelectorAll('.photo-upload label').forEach(label => {
            label.style.pointerEvents = 'auto';
            label.style.opacity = '1';
        });
        
        // Close login modal
        document.getElementById('loginModal').style.display = 'none';
        
        // Show success notification
        showNotification('Candidate information unlocked. You can now make changes.');
    } else {
        // Show error
        errorElement.textContent = 'Invalid username or password. Please try again.';
    }
});
// Back button functionality (from second page)
document.getElementById('backBtn').addEventListener('click', function() {
    // Go back to voting section
    showVotingSection();
    showNotification('Returned to candidate list.');
});
// Function to generate candidate cards for second page
function generateCandidateCards() {
    const candidateCardsContainer = document.getElementById('candidateCards');
    candidateCardsContainer.innerHTML = ''; // Clear existing cards
    
    // Get all rows in the table
    const rows = document.querySelectorAll('#myTable tbody tr');
    
    rows.forEach((row, index) => {
        const candidateName = row.querySelector('.candidate-input').value;
        const candidatePhotoImg = row.querySelector('.candidate-photo');
        let candidateImageSrc = candidatePhotoImg.style.display !== 'none' ? candidatePhotoImg.src : '';
        
        // If no image is uploaded, use a placeholder
        if (!candidateImageSrc) {
            candidateImageSrc = 'https://picsum.photos/150/150?random=' + index;
        }
        
        // Create card element
        const card = document.createElement('div');
        card.className = 'candidate-card';
        card.innerHTML = `
            <img src="${candidateImageSrc}" alt="${candidateName}" class="candidate-card-image">
            <div class="candidate-card-name">${candidateName}</div>
            <button class="candidate-card-vote-btn" data-candidate="${candidateName}">VOTE</button>
        `;
        
        candidateCardsContainer.appendChild(card);
    });
    
    // Add event listeners to the vote buttons in the cards
    document.querySelectorAll('.candidate-card-vote-btn').forEach(button => {
        button.addEventListener('click', function() {
            const candidateName = this.getAttribute('data-candidate');
            
            // Add animation to the button
            this.style.animation = 'pulse 0.5s';
            
            // Store the vote in localStorage
            let votes = JSON.parse(localStorage.getItem('votes')) || {};
            votes[candidateName] = (votes[candidateName] || 0) + 1;
            localStorage.setItem('votes', JSON.stringify(votes));
            
            // Show notification
            showNotification(`You have successfully voted for ${candidateName}! Thank you for participating.`);
            
            // Trigger confetti
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 }
            });
            
            // Disable the button temporarily to prevent multiple rapid votes
            this.disabled = true;
            
            setTimeout(() => {
                this.disabled = false;
            }, 3000);
            
            // Reset button animation
            setTimeout(() => {
                this.style.animation = '';
            }, 500);
        });
    });
}
// Vote button functionality
document.querySelectorAll('.vote-btn').forEach(button => {
    button.addEventListener('click', function() {
        const row = this.closest('tr');
        const candidateName = row.querySelector('.candidate-input').value;
        
        if (candidateName.trim() === '') {
            showNotification('Please enter a candidate name before voting.', true);
            return;
        }
        
        // Add animation to the clicked button
        this.style.animation = 'pulse 0.5s';
        
        // Store the vote in localStorage
        let votes = JSON.parse(localStorage.getItem('votes')) || {};
        votes[candidateName] = (votes[candidateName] || 0) + 1;
        localStorage.setItem('votes', JSON.stringify(votes));
        
        // Update results display
        displayResults();
        
        // Show notification with rainbow effect
        showNotification(`You have successfully voted for ${candidateName}! Thank you for participating.`);
        
        // Trigger confetti
        confetti({
            particleCount: 100,
            spread: 70,
            origin: { y: 0.6 }
        });
        
        // Disable this vote button temporarily to prevent multiple rapid votes
        this.disabled = true;
        
        setTimeout(() => {
            // Re-enable the button after a short delay to allow another vote
            this.disabled = false;
        }, 3000);
        
        // Reset button animation
        setTimeout(() => {
            this.style.animation = '';
        }, 500);
    });
});
// Notification function
function showNotification(message, isError = false) {
    const notification = document.getElementById('notification');
    notification.textContent = message;
    
    if (isError) {
        notification.style.background = 'linear-gradient(45deg, #ff3366, #ff6600)';
    } else {
        notification.style.background = 'linear-gradient(45deg, #ff0000, #ff9900, #ffff00, #00ff00, #0000ff, #9900ff)';
    }
    
    notification.style.display = 'block';
    
    setTimeout(() => {
        notification.style.animation = 'fadeOut 0.5s forwards';
        setTimeout(() => {
            notification.style.display = 'none';
            notification.style.animation = 'slideInRight 0.5s ease-out';
        }, 500);
    }, 3000);
}
// Add fadeOut animation
const style = document.createElement('style');
style.textContent = `
    @keyframes fadeOut {
        from { opacity: 1; }
        to { opacity: 0; }
    }
`;
document.head.appendChild(style);
// Initialize the page when it loads
window.addEventListener('load', initializePage);
</script>
</body>
</html>