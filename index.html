<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Portal</title>
    <style>
        /* Global Styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            animation: colorChange 3s infinite alternate;
        }
        
        /* Background color animation */
        @keyframes colorChange {
            0% { background: linear-gradient(135deg, #ffcccc, #ffdddd); }
            10% { background: linear-gradient(135deg, #ccffcc, #ddffdd); }
            20% { background: linear-gradient(135deg, #ccccff, #ddddff); }
            30% { background: linear-gradient(135deg, #ffffcc, #ffffdd); }
            40% { background: linear-gradient(135deg, #ffccff, #ffddff); }
            50% { background: linear-gradient(135deg, #ccffff, #ddffff); }
            60% { background: linear-gradient(135deg, #ffccaa, #ffddbb); }
            70% { background: linear-gradient(135deg, #aaffcc, #bbffdd); }
            80% { background: linear-gradient(135deg, #ccaaff, #ddbbee); }
            90% { background: linear-gradient(135deg, #ffaacc, #ffddcc); }
            100% { background: linear-gradient(135deg, #aaccff, #bbddff); }
        }
        
        /* Colorful explosion animation */
        @keyframes explosion {
            0% { 
                transform: scale(0); 
                opacity: 1; 
                border-radius: 50%;
            }
            50% { 
                transform: scale(2.5); 
                opacity: 0.9; 
                border-radius: 30%;
            }
            100% { 
                transform: scale(5); 
                opacity: 0; 
                border-radius: 10%;
            }
        }
        
        .explosion {
            position: fixed;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: conic-gradient(from 0deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3, #ff1493, #00ced1, #32cd32, #ffa500, #ff69b4, #20b2aa, #9370db, #ff6347);
            animation: explosion 1.5s ease-out;
            z-index: 1000;
            pointer-events: none;
        }
        
        /* Powerful explosion animation */
        @keyframes powerfulExplosion {
            0% { 
                transform: scale(0); 
                opacity: 1; 
                border-radius: 50%;
                filter: brightness(1);
            }
            25% { 
                transform: scale(4); 
                opacity: 0.9; 
                border-radius: 40%;
                filter: brightness(1.5);
            }
            50% { 
                transform: scale(8); 
                opacity: 0.7; 
                border-radius: 30%;
                filter: brightness(2);
            }
            75% { 
                transform: scale(12); 
                opacity: 0.5; 
                border-radius: 20%;
                filter: brightness(2.5);
            }
            100% { 
                transform: scale(20); 
                opacity: 0; 
                border-radius: 10%;
                filter: brightness(3);
            }
        }
        
        .powerful-explosion {
            position: fixed;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: radial-gradient(circle, #ffffff 0%, #ff0000 20%, #ff7f00 40%, #ffff00 60%, #00ff00 80%, #0000ff 100%);
            animation: powerfulExplosion 2s infinite;
            z-index: 999;
            pointer-events: none;
        }
        
        /* Page container */
        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 30px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            min-height: 80vh;
            backdrop-filter: blur(5px);
        }
        
        /* Navigation */
        .nav-menu {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            background: linear-gradient(90deg, #4a6fa5, #166088);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .nav-menu a {
            padding: 15px 20px;
            text-decoration: none;
            color: white;
            font-weight: bold;
            transition: all 0.3s ease;
            flex: 1;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .nav-menu a:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: #fff;
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        
        .nav-menu a:hover::after {
            transform: scaleX(1);
        }
        
        /* Form styles */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }
        
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            border-color: #4a6fa5;
            outline: none;
            box-shadow: 0 0 5px rgba(74, 111, 165, 0.3);
        }
        
        .btn {
            background: linear-gradient(90deg, #4a6fa5, #166088);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .btn-danger {
            background: linear-gradient(90deg, #e74c3c, #c0392b);
        }
        
        .btn-danger:hover {
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.3);
        }
        
        .btn-bomb {
            background: linear-gradient(90deg, #ff6b6b, #ee5a24);
            position: relative;
            overflow: hidden;
        }
        
        .btn-bomb:hover {
            box-shadow: 0 0 20px rgba(238, 90, 36, 0.7);
        }
        
        .btn-bomb:before {
            content: "ðŸ’£";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 20px;
            opacity: 0.7;
        }
        
        .btn-dhamaka {
            background: linear-gradient(90deg, #ff4757, #ff3838);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 71, 87, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .btn-dhamaka:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 71, 87, 0.5);
        }
        
        .btn-dhamaka:before {
            content: "ðŸ’¥";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 20px;
            opacity: 0.7;
        }
        
        /* Gallery styles */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            height: 150px;
            transition: transform 0.3s ease;
        }
        
        .gallery-item:hover {
            transform: scale(1.05);
        }
        
        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        
        .gallery-search {
            margin-bottom: 20px;
        }
        
        .gallery-search input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 16px;
        }
        
        .student-gallery {
            margin-top: 30px;
        }
        
        .student-gallery h3 {
            margin-bottom: 15px;
            color: #333;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }
        
        .student-photos {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }
        
        /* Member list styles */
        .member-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .member-card {
            background-color: #fff;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            border: 1px solid #eee;
            text-align: center;
        }
        
        .member-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }
        
        .member-photo {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 15px;
            border: 4px solid #f0f0f0;
        }
        
        .member-card h3 {
            margin-top: 0;
            color: #333;
            font-size: 1.3rem;
        }
        
        .member-card p {
            margin: 10px 0;
            color: #666;
        }
        
        .member-actions {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
        }
        
        /* Page visibility */
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Table styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        th {
            background-color: #f8f9fa;
            font-weight: bold;
            color: #333;
        }
        
        tr:hover {
            background-color: #f8f9fa;
        }
        
        /* Admin badge */
        .admin-badge {
            background-color: #ff9800;
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: none;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        /* Login Page Specific Styles */
        .login-container {
            max-width: 500px;
            margin: 50px auto;
            padding: 30px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .login-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .login-header h1 {
            color: #333;
            margin-bottom: 10px;
        }
        
        .login-header p {
            color: #666;
        }
        
        .show-password {
            display: flex;
            align-items: center;
            margin-top: 5px;
        }
        
        .show-password input {
            margin-right: 8px;
        }
        
        /* Circular Profile Container */
        .circular-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 0;
        }
        
        .circular-profile {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            overflow: hidden;
            margin-bottom: 20px;
            border: 5px solid #4a6fa5;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
        }
        
        .circular-profile:hover {
            transform: scale(1.05);
        }
        
        .circular-profile img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .profile-name {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        
        .other-names {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .other-names h3 {
            color: #555;
            margin-bottom: 10px;
        }
        
        .other-names p {
            color: #666;
            margin: 5px 0;
        }
        
        .next-btn {
            background: linear-gradient(90deg, #4a6fa5, #166088);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .next-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }
        
        .next-btn:active {
            transform: translateY(1px);
        }
        
        /* Student Details Styles */
        .student-profile {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-top: 20px;
        }
        
        .student-photo {
            flex: 0 0 200px;
            text-align: center;
        }
        
        .student-photo img {
            width: 180px;
            height: 180px;
            border-radius: 10px;
            object-fit: cover;
            border: 5px solid #fff;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .student-info {
            flex: 1;
            min-width: 300px;
        }
        
        .info-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .info-card h3 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }
        
        .info-row {
            display: flex;
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .info-row:last-child {
            border-bottom: none;
        }
        
        .info-label {
            font-weight: bold;
            width: 150px;
            color: #555;
        }
        
        .info-value {
            flex: 1;
            color: #333;
        }
        
        /* Admin Panel Styles */
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .admin-header h1 {
            color: #333;
        }
        
        .admin-actions {
            display: flex;
            gap: 10px;
        }
        
        .user-management {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .user-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .user-table th, .user-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .user-table th {
            background-color: #f8f9fa;
            font-weight: bold;
        }
        
        .action-btn {
            background: #166088;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            margin-right: 5px;
        }
        
        /* Password Change Styles */
        .password-change {
            max-width: 500px;
            margin: 50px auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .password-change h2 {
            margin-top: 0;
            color: #333;
            text-align: center;
            margin-bottom: 20px;
        }
        
        /* Class Details Styles */
        .committee-section {
            margin-bottom: 30px;
        }
        
        .committee-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
        }
        
        .committee-card:hover {
            transform: translateY(-5px);
        }
        
        .committee-card h3 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }
        
        .video-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
        }
        
        .video-wrapper {
            flex: 1;
            min-width: 300px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .video-wrapper iframe {
            width: 100%;
            height: 200px;
            border: none;
        }
        
        /* Navigation Buttons */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .nav-btn {
            background: linear-gradient(90deg, #4a6fa5, #166088);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }
        
        .nav-btn:active {
            transform: translateY(1px);
        }
        
        /* Voting Page Styles */
        .voting-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .voting-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .voting-header h1 {
            color: #333;
            margin-bottom: 10px;
        }
        
        .candidate-list {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .candidate-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .candidate-item:last-child {
            border-bottom: none;
        }
        
        .candidate-info {
            display: flex;
            align-items: center;
        }
        
        .candidate-photo {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 15px;
            border: 3px solid #f0f0f0;
        }
        
        .candidate-name {
            font-weight: bold;
            font-size: 1.2rem;
            color: #333;
        }
        
        .vote-count {
            background: #f0f0f0;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            color: #555;
            margin-right: 15px;
        }
        
        .vote-btn {
            background: linear-gradient(90deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .vote-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .vote-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .voting-locked {
            text-align: center;
            padding: 30px;
            background: #fff8e1;
            border-radius: 12px;
            margin-bottom: 20px;
            border-left: 5px solid #ffc107;
        }
        
        .voting-locked h2 {
            color: #ff8f00;
            margin-top: 0;
        }
        
        .voting-locked p {
            color: #666;
        }
        
        .voting-pending {
            text-align: center;
            padding: 30px;
            background: #e3f2fd;
            border-radius: 12px;
            margin-bottom: 20px;
            border-left: 5px solid #2196f3;
        }
        
        .voting-pending h2 {
            color: #1976d2;
            margin-top: 0;
        }
        
        .voting-pending p {
            color: #666;
        }
        
        /* Voting Management Styles */
        .voting-management {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }
        
        .voting-management h2 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }
        
        .voter-list {
            margin-top: 20px;
        }
        
        .voter-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }
        
        .voter-item:last-child {
            border-bottom: none;
        }
        
        .voter-info {
            flex: 1;
        }
        
        .voter-name {
            font-weight: bold;
            color: #333;
        }
        
        .voter-details {
            font-size: 0.9rem;
            color: #666;
            margin-top: 3px;
        }
        
        .voter-status {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .status-approved {
            background: #e8f5e9;
            color: #2e7d32;
        }
        
        .status-pending {
            background: #fff8e1;
            color: #ff8f00;
        }
        
        .status-locked {
            background: #ffebee;
            color: #c62828;
        }
        
        /* Add User Form Styles */
        .add-user-form {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }
        
        .add-user-form h2 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .user-type-selector {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .user-type-option {
            flex: 1;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .user-type-option:hover {
            border-color: #4a6fa5;
        }
        
        .user-type-option.selected {
            border-color: #4a6fa5;
            background: rgba(74, 111, 165, 0.1);
        }
        
        .user-type-option h3 {
            margin-top: 0;
            color: #333;
        }
        
        .user-type-option p {
            color: #666;
            font-size: 0.9rem;
        }
        
        /* Student Data Table Styles */
        .student-data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .student-data-table th, .student-data-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .student-data-table th {
            background-color: #f8f9fa;
            font-weight: bold;
            color: #333;
        }
        
        .student-data-table tr:hover {
            background-color: #f8f9fa;
        }
        
        .welcome-message {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.5rem;
            color: #333;
        }
        
        /* Candidate Management */
        .candidate-management {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }
        
        .candidate-list-management {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .candidate-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }
        
        .candidate-card img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 10px;
            border: 3px solid #e0e0e0;
        }
        
        .candidate-card h4 {
            margin: 0 0 5px;
            color: #333;
        }
        
        .candidate-card .vote-count {
            margin: 5px 0;
            font-size: 0.9rem;
            color: #666;
        }
        
        .candidate-card .rank-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
        }
        
        .rank-1 {
            background: linear-gradient(135deg, #FFD700, #FFA500);
        }
        
        .rank-2 {
            background: linear-gradient(135deg, #C0C0C0, #808080);
        }
        
        .rank-3 {
            background: linear-gradient(135deg, #CD7F32, #8B4513);
        }
        
        .rank-other {
            background: linear-gradient(135deg, #4a6fa5, #166088);
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 15px;
            margin-top: 30px;
            color: #555;
            font-size: 14px;
            border-top: 1px solid #eee;
        }
        
        /* Voting Results */
        .voting-results {
            margin-top: 30px;
        }
        
        .result-bar {
            margin-bottom: 15px;
        }
        
        .result-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .result-name {
            font-weight: bold;
        }
        
        .result-percentage {
            color: #555;
        }
        
        .progress-bar {
            height: 20px;
            background-color: #f0f0f0;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #4a6fa5, #166088);
            border-radius: 10px;
        }
        
        /* Dhamaka Button Styles */
        .dhamaka-container {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
        }
        
        .dhamaka-button {
            background: linear-gradient(90deg, #ff4757, #ff3838);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 71, 87, 0.4);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .dhamaka-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 71, 87, 0.6);
        }
        
        .dhamaka-button:before {
            content: "ðŸ’¥";
            font-size: 24px;
        }
        
        /* Games Page Styles */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .game-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
        }
        
        .game-card:hover {
            transform: translateY(-5px);
        }
        
        .game-image {
            height: 150px;
            overflow: hidden;
        }
        
        .game-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .game-content {
            padding: 15px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .game-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        
        .game-description {
            color: #666;
            margin-bottom: 15px;
            flex: 1;
        }
        
        .play-btn {
            background: linear-gradient(90deg, #4a6fa5, #166088);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            align-self: flex-start;
        }
        
        .play-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        /* Game Play Page Styles */
        .game-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
        }
        
        .game-title {
            font-size: 1.8rem;
            color: #333;
            margin: 0;
        }
        
        .game-content-area {
            min-height: 400px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        /* Math Quiz Game Styles */
        .math-question {
            font-size: 2rem;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .math-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            width: 100%;
            max-width: 400px;
        }
        
        .math-option {
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .math-option:hover {
            background: #e0e0e0;
            transform: translateY(-2px);
        }
        
        .math-option.correct {
            background: #4CAF50;
            color: white;
        }
        
        .math-option.incorrect {
            background: #f44336;
            color: white;
        }
        
        .math-score {
            margin-top: 20px;
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        .math-next-btn {
            margin-top: 20px;
        }
        
        /* Memory Match Game Styles */
        .memory-board {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .memory-card {
            aspect-ratio: 1;
            background: #4a6fa5;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .memory-card:hover {
            transform: scale(1.05);
        }
        
        .memory-card.flipped {
            background: #f0f0f0;
            color: #333;
        }
        
        .memory-card.matched {
            background: #4CAF50;
            cursor: default;
        }
        
        .memory-score {
            margin-top: 20px;
            font-size: 1.2rem;
            font-weight: bold;
            text-align: center;
        }
        
        .memory-reset-btn {
            margin-top: 20px;
        }
        
        /* Typing Master Game Styles */
        .typing-level-selection {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .typing-level-option {
            padding: 15px 30px;
            background: #f0f0f0;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .typing-level-option:hover {
            border-color: #4a6fa5;
            background: rgba(74, 111, 165, 0.1);
        }
        
        .typing-level-option.selected {
            border-color: #4a6fa5;
            background: rgba(74, 111, 165, 0.2);
        }
        
        .typing-mode-selection {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .typing-mode-option {
            padding: 15px 30px;
            background: #f0f0f0;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .typing-mode-option:hover {
            border-color: #4a6fa5;
            background: rgba(74, 111, 165, 0.1);
        }
        
        .typing-mode-option.selected {
            border-color: #4a6fa5;
            background: rgba(74, 111, 165, 0.2);
        }
        
        .typing-user-selection {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        
        .typing-user-option {
            padding: 15px;
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .typing-user-option:hover {
            background: #e0e0e0;
            border-color: #4a6fa5;
        }
        
        .typing-user-option.selected {
            background: rgba(74, 111, 165, 0.1);
            border-color: #4a6fa5;
        }
        
        .typing-text-display {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 18px;
            line-height: 1.5;
            border: 1px solid #ddd;
        }
        
        .typing-input-area {
            width: 100%;
            margin-bottom: 20px;
        }
        
        .typing-input {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 8px;
            resize: none;
            font-family: inherit;
        }
        
        .typing-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .typing-timer {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .typing-results {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        
        .typing-rankings {
            margin-top: 20px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        
        .typing-rankings h3 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }
        
        .typing-rankings-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .typing-rankings-table th, .typing-rankings-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .typing-rankings-table th {
            background-color: #f0f0f0;
            font-weight: bold;
        }
        
        .typing-rankings-table tr:hover {
            background-color: #f0f0f0;
        }
        
        .rank-medal {
            display: inline-block;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            text-align: center;
            line-height: 24px;
            color: white;
            font-weight: bold;
            margin-right: 5px;
        }
        
        .rank-medal-1 {
            background: linear-gradient(135deg, #FFD700, #FFA500);
        }
        
        .rank-medal-2 {
            background: linear-gradient(135deg, #C0C0C0, #808080);
        }
        
        .rank-medal-3 {
            background: linear-gradient(135deg, #CD7F32, #8B4513);
        }
        
        /* Page Lock Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            overflow: auto;
        }
        
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.4s ease;
        }
        
        @keyframes modalSlideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .modal-header h2 {
            margin: 0;
            color: #333;
        }
        
        .close {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .close:hover,
        .close:focus {
            color: black;
        }
        
        .modal-body {
            margin-bottom: 20px;
        }
        
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        /* Page Lock Management Styles */
        .page-lock-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .page-lock-table th, .page-lock-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .page-lock-table th {
            background-color: #f8f9fa;
            font-weight: bold;
        }
        
        .page-lock-table tr:hover {
            background-color: #f8f9fa;
        }
        
        .lock-status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .lock-status-locked {
            background: #ffebee;
            color: #c62828;
        }
        
        .lock-status-unlocked {
            background: #e8f5e9;
            color: #2e7d32;
        }
        
        .lock-password-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .lock-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .lock-toggle input {
            margin-right: 5px;
        }
    </style>
</head>
<body>
    <!-- Dhamaka Button at the top -->
    <div class="dhamaka-container">
        <button class="dhamaka-button" onclick="createBombExplosion()">Dhamaka</button>
    </div>
    
    <!-- Notification -->
    <div id="notification" class="notification"></div>
    
    <!-- Page Lock Modal -->
    <div id="lockModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Page Locked</h2>
                <span class="close" onclick="closeLockModal()">&times;</span>
            </div>
            <div class="modal-body">
                <p>This page is locked. Please enter the lock password to continue.</p>
                <div class="form-group">
                    <input type="password" id="lockPasswordInput" placeholder="Enter lock password">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="checkLockPassword()">Unlock</button>
            </div>
        </div>
    </div>
    
    <!-- Login Page -->
    <div id="loginPage" class="page active">
        <div class="container">
            <!-- Circular Profile Container -->
            <div id="circularContainer" class="circular-container">
                <div class="circular-profile">
                    <img src="Screenshot 2025-08-30 174608.png" alt="Student Profile">
                </div>
                <div class="profile-name">Abu Shahma</div>
                <div class="other-names">
                    <h3>kingportal.netlify.app</h3>
                </div>
                <button class="next-btn" onclick="showLoginForm()">Next</button>
            </div>
            
            <!-- Login Form Container (initially hidden) -->
            <div id="loginFormContainer" style="display: none;">
                <div class="login-container">
                    <div class="login-header">
                        <h1>Student Portal</h1>
                        <p>Please login to access your account</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="admissionNumber">Username:</label>
                        <input type="text" id="admissionNumber" placeholder="Enter your Username">
                    </div>
                    
                    <div class="form-group">
                        <label for="password">Password:</label>
                        <input type="password" id="password" placeholder="Enter your password">
                    </div>
                    
                    <div class="show-password">
                        <input type="checkbox" id="showPasswordCheckbox"> 
                        <label for="showPasswordCheckbox">Show Password</label>
                    </div>
                    
                    <button class="btn" onclick="login()">Login</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Admin Page -->
    <div id="adminPage" class="page">
        <div class="container">
            <div class="navigation-buttons">
                <button class="nav-btn" onclick="navigateBack()">Back</button>
                <button class="nav-btn" onclick="navigateForward()">Forward</button>
            </div>
            
            <div class="admin-header">
                <h1>Admin Panel</h1>
                <div class="admin-actions">
                    <button class="btn" onclick="showPage('logoutPage')">Logout</button>
                </div>
            </div>
            
            <div class="nav-menu">
                <a href="#" onclick="showPage('adminPage')">Dashboard</a>
                <a href="#" onclick="showPage('userManagementPage')">User Management</a>
                <a href="#" onclick="showPage('votingManagementPage')">Voting Management</a>
                <a href="#" onclick="showPage('pageLockManagementPage')">Page Lock Management</a>
                <a href="#" onclick="showPage('galleryPage')">Gallery</a>
                <a href="#" onclick="showPage('contactPage')">Contact</a>
                <a href="#" onclick="showPage('memberPage')">Members</a>
                <a href="#" onclick="showPage('classDetailsPage')">Class Details</a>
                <a href="#" onclick="showPage('gamesPage')">Games</a>
            </div>
            
            <div class="user-management">
                <h2>Admin Dashboard</h2>
                <p>Welcome to the Admin Panel. Here you can manage all users and system settings.</p>
                
                <div class="info-card">
                    <h3>System Statistics</h3>
                    <div class="info-row">
                        <div class="info-label">Total Students:</div>
                        <div class="info-value">39</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Total Admins:</div>
                        <div class="info-value">1</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Password Changes:</div>
                        <div class="info-value" id="passwordChangeCount">0</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Total Votes:</div>
                        <div class="info-value" id="totalVotes">0</div>
                    </div>
                </div>
                
                <div class="info-card">
                    <h3>Recent Password Changes</h3>
                    <div id="recentPasswordChanges">
                        <p>No password changes recorded yet.</p>
                    </div>
                </div>
            </div>
            
            <div class="footer">
                Logged in as: <span id="adminFooterUsername">U1588</span>
            </div>
        </div>
    </div>
    
    <!-- User Management Page -->
    <div id="userManagementPage" class="page">
        <div class="container">
            <div class="navigation-buttons">
                <button class="nav-btn" onclick="navigateBack()">Back</button>
                <button class="nav-btn" onclick="navigateForward()">Forward</button>
            </div>
            
            <div class="admin-header">
                <h1>User Management</h1>
                <div class="admin-actions">
                    <button class="btn" onclick="showPage('logoutPage')">Logout</button>
                </div>
            </div>
            
            <div class="nav-menu">
                <a href="#" onclick="showPage('adminPage')">Dashboard</a>
                <a href="#" onclick="showPage('userManagementPage')">User Management</a>
                <a href="#" onclick="showPage('votingManagementPage')">Voting Management</a>
                <a href="#" onclick="showPage('pageLockManagementPage')">Page Lock Management</a>
                <a href="#" onclick="showPage('galleryPage')">Gallery</a>
                <a href="#" onclick="showPage('contactPage')">Contact</a>
                <a href="#" onclick="showPage('memberPage')">Members</a>
                <a href="#" onclick="showPage('classDetailsPage')">Class Details</a>
                <a href="#" onclick="showPage('gamesPage')">Games</a>
            </div>
            
            <div class="add-user-form">
                <h2>Add New User</h2>
                
                <div class="user-type-selector">
                    <div class="user-type-option" onclick="selectUserType('student')">
                        <h3>Student</h3>
                        <p>Add a new student account</p>
                    </div>
                    <div class="user-type-option" onclick="selectUserType('admin')">
                        <h3>Admin</h3>
                        <p>Add a new admin account</p>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="newUsername">Username:</label>
                        <input type="text" id="newUsername" placeholder="Enter username">
                    </div>
                    <div class="form-group">
                        <label for="newPassword">Password:</label>
                        <input type="password" id="newPassword" placeholder="Enter password">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="newName">Full Name:</label>
                        <input type="text" id="newName" placeholder="Enter full name">
                    </div>
                    <div class="form-group">
                        <label for="newEmail">Email:</label>
                        <input type="email" id="newEmail" placeholder="Enter email">
                    </div>
                </div>
                
                <button class="btn" onclick="addUser()">Add User</button>
            </div>
            
            <div class="user-management">
                <h2>Manage Users</h2>
                <table class="user-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Username</th>
                            <th>Password</th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Role</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="userTableBody">
                        <!-- Users will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <div class="footer">
                Logged in as: <span id="userManagementFooterUsername">U1588</span>
            </div>
        </div>
    </div>
    
    <!-- Voting Management Page -->
    <div id="votingManagementPage" class="page">
        <div class="container">
            <div class="navigation-buttons">
                <button class="nav-btn" onclick="navigateBack()">Back</button>
                <button class="nav-btn" onclick="navigateForward()">Forward</button>
            </div>
            
            <div class="admin-header">
                <h1>Voting Management</h1>
                <div class="admin-actions">
                    <button class="btn" onclick="showPage('logoutPage')">Logout</button>
                </div>
            </div>
            
            <div class="nav-menu">
                <a href="#" onclick="showPage('adminPage')">Dashboard</a>
                <a href="#" onclick="showPage('userManagementPage')">User Management</a>
                <a href="#" onclick="showPage('votingManagementPage')">Voting Management</a>
                <a href="#" onclick="showPage('pageLockManagementPage')">Page Lock Management</a>
                <a href="#" onclick="showPage('galleryPage')">Gallery</a>
                <a href="#" onclick="showPage('contactPage')">Contact</a>
                <a href="#" onclick="showPage('memberPage')">Members</a>
                <a href="#" onclick="showPage('classDetailsPage')">Class Details</a>
                <a href="#" onclick="showPage('gamesPage')">Games</a>
            </div>
            
            <div class="candidate-management">
                <h2>Manage Candidates</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="candidateName">Candidate Name:</label>
                        <input type="text" id="candidateName" placeholder="Enter candidate name">
                    </div>
                    <div class="form-group">
                        <label for="candidateImage">Candidate Image URL:</label>
                        <input type="text" id="candidateImage" placeholder="Enter image URL">
                    </div>
                </div>
                
                <button class="btn" onclick="addCandidate()">Add Candidate</button>
                
                <div class="candidate-list-management" id="candidateListManagement">
                    <!-- Candidates will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="voting-management">
                <h2>Voting Management</h2>
                <p>Manage voting permissions and view voting statistics.</p>
                
                <div class="info-card">
                    <h3>Voting Statistics</h3>
                    <div class="info-row">
                        <div class="info-label">Total Votes:</div>
                        <div class="info-value" id="totalVotesManagement">0</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Pending Approvals:</div>
                        <div class="info-value" id="pendingApprovals">0</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Locked Users:</div>
                        <div class="info-value" id="lockedUsersCount">0</div>
                    </div>
                </div>
                
                <h3>Manage Voting Access</h3>
                <div class="form-group">
                    <label for="lockUnlockUser">Select User:</label>
                    <select id="lockUnlockUser">
                        <option value="">Select a user</option>
                    </select>
                </div>
                <div class="admin-actions">
                    <button class="btn" onclick="lockUser()">Lock Voting Access</button>
                    <button class="btn" onclick="unlockUser()">Unlock Voting Access</button>
                </div>
            </div>
            
            <div class="voting-management">
                <h2>Pending Voter Approvals</h2>
                <div id="pendingVotersList" class="voter-list">
                    <p>No pending approvals.</p>
                </div>
            </div>
            
            <div class="voting-management">
                <h2>All Voters</h2>
                <div id="allVotersList" class="voter-list">
                    <p>No voters yet.</p>
                </div>
            </div>
            
            <div class="voting-management">
                <h2>Voting Results</h2>
                <div id="votingResults" class="voting-results">
                    <!-- Voting results will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="footer">
                Logged in as: <span id="votingManagementFooterUsername">U1588</span>
            </div>
        </div>
    </div>
    
    <!-- Page Lock Management Page -->
    <div id="pageLockManagementPage" class="page">
        <div class="container">
            <div class="navigation-buttons">
                <button class="nav-btn" onclick="navigateBack()">Back</button>
                <button class="nav-btn" onclick="navigateForward()">Forward</button>
            </div>
            
            <div class="admin-header">
                <h1>Page Lock Management</h1>
                <div class="admin-actions">
                    <button class="btn" onclick="showPage('logoutPage')">Logout</button>
                </div>
            </div>
            
            <div class="nav-menu">
                <a href="#" onclick="showPage('adminPage')">Dashboard</a>
                <a href="#" onclick="showPage('userManagementPage')">User Management</a>
                <a href="#" onclick="showPage('votingManagementPage')">Voting Management</a>
                <a href="#" onclick="showPage('pageLockManagementPage')">Page Lock Management</a>
                <a href="#" onclick="showPage('galleryPage')">Gallery</a>
                <a href="#" onclick="showPage('contactPage')">Contact</a>
                <a href="#" onclick="showPage('memberPage')">Members</a>
                <a href="#" onclick="showPage('classDetailsPage')">Class Details</a>
                <a href="#" onclick="showPage('gamesPage')">Games</a>
            </div>
            
            <div class="user-management">
                <h2>Page Lock Management</h2>
                <p>Manage locks for all pages in the system. Set lock passwords and toggle lock status.</p>
                
                <table class="page-lock-table">
                    <thead>
                        <tr>
                            <th>Page</th>
                            <th>Status</th>
                            <th>Lock Password</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="pageLockTableBody">
                        <!-- Page locks will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <div class="footer">
                Logged in as: <span id="pageLockManagementFooterUsername">U1588</span>
            </div>
        </div>
    </div>
    
    <!-- Gallery Page -->
    <div id="galleryPage" class="page">
        <div class="container">
            <div class="navigation-buttons">
                <button class="nav-btn" onclick="navigateBack()">Back</button>
                <button class="nav-btn" onclick="navigateForward()">Forward</button>
            </div>
            
            <h1>Photo Gallery</h1>
            
            <div class="nav-menu">
                <a href="#" onclick="showPage('loginPage')">Login</a>
                <a href="#" onclick="showPage('galleryPage')">Gallery</a>
                <a href="#" onclick="showPage('contactPage')">Contact</a>
                <a href="#" onclick="showPage('memberPage')">Members</a>
                <a href="#" onclick="showPage('studentDetailsPage')">My Details</a>
                <a href="#" onclick="showPage('changePasswordPage')">Change Password</a>
                <a href="#" onclick="showPage('votingPage')">Voting</a>
                <a href="#" onclick="showPage('classDetailsPage')">Class Details</a>
                <a href="#" onclick="showPage('gamesPage')">Games</a>
                <a href="#" onclick="showPage('logoutPage')">Logout</a>
            </div>
            
            <div class="gallery-search">
                <input type="text" id="studentSearch" placeholder="Search for a student..." onkeyup="searchStudents()">
            </div>
            
            <div id="studentGalleryContainer" class="student-gallery" style="display: none;">
                <!-- Student photos will be populated by JavaScript -->
            </div>
            
            <div class="gallery">
                <!-- Gallery images from provided links -->
                <div class="gallery-item"><img src="shahma.jpg" alt="Gallery Image 1"></div>
                <div class="gallery-item"><img src="image copy 6.png" alt="Gallery Image 2"></div>
                <div class="gallery-item"><img src="image copy 5.png" alt="Gallery Image 3"></div>
                <div class="gallery-item"><img src="Screenshot 2025-08-30 174452.png" alt="Gallery Image 4"></div>
                <div class="gallery-item"><img src="image copy 7.png" alt="Gallery Image 5"></div>
                <div class="gallery-item"><img src="image copy 8.png" alt="Gallery Image 6"></div>
                <div class="gallery-item"><img src="image copy 10.png" alt="Gallery Image 7"></div>
                <div class="gallery-item"><img src="Happy teachers day - Made with PosterMyWall.jpg.png" alt="Gallery Image 8"></div>
                <div class="gallery-item"><img src="image copy 11.png" alt="Gallery Image 9"></div>
                <div class="gallery-item"><img src="image copy 12.png" alt="Gallery Image 10"></div>
            </div>
            
            <div class="footer">
                Logged in as: <span id="galleryFooterUsername">user</span>
            </div>
        </div>
    </div>
    
    <!-- Contact Page -->
    <div id="contactPage" class="page">
        <div class="container">
            <div class="navigation-buttons">
                <button class="nav-btn" onclick="navigateBack()">Back</button>
                <button class="nav-btn" onclick="navigateForward()">Forward</button>
            </div>
            
            <h1>Contact Us</h1>
            
            <div class="nav-menu">
                <a href="#" onclick="showPage('loginPage')">Login</a>
                <a href="#" onclick="showPage('galleryPage')">Gallery</a>
                <a href="#" onclick="showPage('contactPage')">Contact</a>
                <a href="#" onclick="showPage('memberPage')">Members</a>
                <a href="#" onclick="showPage('studentDetailsPage')">My Details</a>
                <a href="#" onclick="showPage('changePasswordPage')">Change Password</a>
                <a href="#" onclick="showPage('votingPage')">Voting</a>
                <a href="#" onclick="showPage('classDetailsPage')">Class Details</a>
                <a href="#" onclick="showPage('gamesPage')">Games</a>
                <a href="#" onclick="showPage('logoutPage')">Logout</a>
            </div>
            
            <form action="mailto:darulhudaofstudent123456@gmail.com" method="post" enctype="text/plain">
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required>
                </div>
                
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>
                </div>
                
                <div class="form-group">
                    <label for="subject">Subject:</label>
                    <input type="text" id="subject" name="subject" required>
                </div>
                
                <div class="form-group">
                    <label for="message">Message:</label>
                    <textarea id="message" name="message" rows="5" required></textarea>
                </div>
                
                <button type="submit" class="btn">Send Message</button>
            </form>
            
            <div class="footer">
                Logged in as: <span id="contactFooterUsername">user</span>
            </div>
        </div>
    </div>
    
    <!-- Member Page -->
    <div id="memberPage" class="page">
        <div class="container">
            <div class="navigation-buttons">
                <button class="nav-btn" onclick="navigateBack()">Back</button>
                <button class="nav-btn" onclick="navigateForward()">Forward</button>
            </div>
            
            <h1>Student Members</h1>
            
            <div class="nav-menu">
                <a href="#" onclick="showPage('loginPage')">Login</a>
                <a href="#" onclick="showPage('galleryPage')">Gallery</a>
                <a href="#" onclick="showPage('contactPage')">Contact</a>
                <a href="#" onclick="showPage('memberPage')">Members</a>
                <a href="#" onclick="showPage('studentDetailsPage')">My Details</a>
                <a href="#" onclick="showPage('changePasswordPage')">Change Password</a>
                <a href="#" onclick="showPage('votingPage')">Voting</a>
                <a href="#" onclick="showPage('classDetailsPage')">Class Details</a>
                <a href="#" onclick="showPage('gamesPage')">Games</a>
                <a href="#" onclick="showPage('logoutPage')">Logout</a>
            </div>
            
            <div class="member-list" id="memberList">
                <!-- Members will be populated by JavaScript -->
            </div>
            
            <div class="footer">
                Logged in as: <span id="memberFooterUsername">user</span>
            </div>
        </div>
    </div>
    
    <!-- Student Details Page -->
    <div id="studentDetailsPage" class="page">
        <div class="container">
            <div class="navigation-buttons">
                <button class="nav-btn" onclick="navigateBack()">Back</button>
                <button class="nav-btn" onclick="navigateForward()">Forward</button>
            </div>
            
            <h1>Student Details</h1>
            
            <div class="nav-menu">
                <a href="#" onclick="showPage('loginPage')">Login</a>
                <a href="#" onclick="showPage('galleryPage')">Gallery</a>
                <a href="#" onclick="showPage('contactPage')">Contact</a>
                <a href="#" onclick="showPage('memberPage')">Members</a>
                <a href="#" onclick="showPage('studentDetailsPage')">My Details</a>
                <a href="#" onclick="showPage('changePasswordPage')">Change Password</a>
                <a href="#" onclick="showPage('votingPage')">Voting</a>
                <a href="#" onclick="showPage('classDetailsPage')">Class Details</a>
                <a href="#" onclick="showPage('gamesPage')">Games</a>
                <a href="#" onclick="showPage('logoutPage')">Logout</a>
            </div>
            
            <div class="student-profile">
                <div class="student-photo">
                    <img id="studentPhoto" src="" alt="Student Photo">
                </div>
                
                <div class="student-info">
                    <div class="info-card">
                        <h3>Personal Information</h3>
                        <div class="info-row">
                            <div class="info-label">Name:</div>
                            <div class="info-value" id="studentName">Abu Shahma</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Class:</div>
                            <div class="info-value" id="studentClass">2 Div A</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">state:</div>
                            <div class="info-value" id="studentRoll">Bihar</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Birth Date:</div>
                            <div class="info-value" id="studentBirthDate">07 - Dec - 2012</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Gender:</div>
                            <div class="info-value" id="studentGender">Male</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Religion:</div>
                            <div class="info-value" id="studentReligion">ISLAM</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Community:</div>
                            <div class="info-value" id="studentCommunity">SHAIKH</div>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <h3>Academic Information</h3>
                        <div class="info-row">
                            <div class="info-label">University:</div>
                            <div class="info-value" id="studentAdmissionDate">DARUL HUDA ISLAMIC UNIVERSITY</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Addmission Number:</div>
                            <div class="info-value" id="studentUID">U1588</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Status:</div>
                            <div class="info-value">Active</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="footer">
                Logged in as: <span id="studentDetailsFooterUsername">user</span>
            </div>
        </div>
    </div>
    
    <!-- Change Password Page -->
    <div id="changePasswordPage" class="page">
        <div class="container">
            <div class="navigation-buttons">
                <button class="nav-btn" onclick="navigateBack()">Back</button>
                <button class="nav-btn" onclick="navigateForward()">Forward</button>
            </div>
            
            <div class="password-change">
                <h2>Change Password</h2>
                
                <div class="form-group">
                    <label for="currentPassword">Current Password:</label>
                    <input type="password" id="currentPassword" placeholder="Enter your current password">
                </div>
                
                <div class="form-group">
                    <label for="newPassword">New Password:</label>
                    <input type="password" id="newPassword" placeholder="Enter your new password">
                </div>
                
                <div class="form-group">
                    <label for="confirmPassword">Confirm New Password:</label>
                    <input type="password" id="confirmPassword" placeholder="Confirm your new password">
                </div>
                
                <button class="btn" onclick="changePassword()">Change Password</button>
            </div>
            
            <div class="footer">
                Logged in as: <span id="changePasswordFooterUsername">user</span>
            </div>
        </div>
    </div>
    
    <!-- Voting Page -->
    <div id="votingPage" class="page">
        <div class="container">
            <div class="navigation-buttons">
                <button class="nav-btn" onclick="navigateBack()">Back</button>
                <button class="nav-btn" onclick="navigateForward()">Forward</button>
            </div>
            
            <div class="voting-container">
                <div class="voting-header">
                    <h1>Student Council Election</h1>
                    <p>Vote for your preferred candidate</p>
                </div>
                
                <div class="nav-menu">
                    <a href="#" onclick="showPage('loginPage')">Login</a>
                    <a href="#" onclick="showPage('galleryPage')">Gallery</a>
                    <a href="#" onclick="showPage('contactPage')">Contact</a>
                    <a href="#" onclick="showPage('memberPage')">Members</a>
                    <a href="#" onclick="showPage('studentDetailsPage')">My Details</a>
                    <a href="#" onclick="showPage('changePasswordPage')">Change Password</a>
                    <a href="#" onclick="showPage('votingPage')">Voting</a>
                    <a href="#" onclick="showPage('classDetailsPage')">Class Details</a>
                    <a href="#" onclick="showPage('gamesPage')">Games</a>
                    <a href="#" onclick="showPage('logoutPage')">Logout</a>
                </div>
                
                <div id="votingLockedMessage" class="voting-locked" style="display: none;">
                    <h2>Voting Access Locked</h2>
                    <p>Your voting access has been locked by the administrator. Please contact the admin for more information.</p>
                </div>
                
                <div id="votingPendingMessage" class="voting-pending" style="display: none;">
                    <h2>Vote Pending Approval</h2>
                    <p>Your vote is pending admin approval. You cannot vote again until your current vote is approved.</p>
                </div>
                
                <div class="candidate-list" id="candidateList">
                    <!-- Candidates will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="footer">
                Logged in as: <span id="votingFooterUsername">user</span>
            </div>
        </div>
    </div>
    
    <!-- Class Details Page -->
    <div id="classDetailsPage" class="page">
        <div class="container">
            <div class="navigation-buttons">
                <button class="nav-btn" onclick="navigateBack()">Back</button>
                <button class="nav-btn" onclick="navigateForward()">Forward</button>
            </div>
            
            <h1>Class Details</h1>
            
            <div class="nav-menu">
                <a href="#" onclick="showPage('loginPage')">Login</a>
                <a href="#" onclick="showPage('galleryPage')">Gallery</a>
                <a href="#" onclick="showPage('contactPage')">Contact</a>
                <a href="#" onclick="showPage('memberPage')">Members</a>
                <a href="#" onclick="showPage('studentDetailsPage')">My Details</a>
                <a href="#" onclick="showPage('changePasswordPage')">Change Password</a>
                <a href="#" onclick="showPage('votingPage')">Voting</a>
                <a href="#" onclick="showPage('classDetailsPage')">Class Details</a>
                <a href="#" onclick="showPage('gamesPage')">Games</a>
                <a href="#" onclick="showPage('logoutPage')">Logout</a>
            </div>
            
            <div class="committee-section">
                <h2>Class Committees</h2>
                
                <div class="committee-card">
                    <h3>Study Committee</h3>
                    <div class="info-row">
                        <div class="info-label">Head:</div>
                        <div class="info-value">Rahul Kumar</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Members:</div>
                        <div class="info-value">Priya, Aman, Anjali</div>
                    </div>
                </div>
                
                <div class="committee-card">
                    <h3>Cultural Committee</h3>
                    <div class="info-row">
                        <div class="info-label">Head:</div>
                        <div class="info-value">Vikas Singh</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Members:</div>
                        <div class="info-value">Neeta, Rohit, Sonia</div>
                    </div>
                </div>
                
                <div class="committee-card">
                    <h3>Sports Committee</h3>
                    <div class="info-row">
                        <div class="info-label">Head:</div>
                        <div class="info-value">Akshay Patel</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Members:</div>
                        <div class="info-value">Puja, Aakash, Deepika</div>
                    </div>
                </div>
                
                <div class="committee-card">
                    <h3>Discipline Committee</h3>
                    <div class="info-row">
                        <div class="info-label">Head:</div>
                        <div class="info-value">Karan Sharma</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Members:</div>
                        <div class="info-value">Kajal, Suresh, Radhika</div>
                    </div>
                </div>
            </div>
            
            <div class="video-container">
                <h2>Educational Videos</h2>
                <div class="video-wrapper">
                    <iframe src="https://www.youtube.com/embed/VIDEO_ID_1" title="Muslim Educational Video 1"></iframe>
                </div>
                <div class="video-wrapper">
                    <iframe src="https://www.youtube.com/embed/VIDEO_ID_2" title="Muslim Educational Video 2"></iframe>
                </div>
            </div>
            
            <div class="footer">
                Logged in as: <span id="classDetailsFooterUsername">user</span>
            </div>
        </div>
    </div>
    
    <!-- Games Page -->
    <div id="gamesPage" class="page">
        <div class="container">
            <div class="navigation-buttons">
                <button class="nav-btn" onclick="navigateBack()">Back</button>
                <button class="nav-btn" onclick="navigateForward()">Forward</button>
            </div>
            
            <h1>Educational Games</h1>
            
            <div class="nav-menu">
                <a href="#" onclick="showPage('loginPage')">Login</a>
                <a href="#" onclick="showPage('galleryPage')">Gallery</a>
                <a href="#" onclick="showPage('contactPage')">Contact</a>
                <a href="#" onclick="showPage('memberPage')">Members</a>
                <a href="#" onclick="showPage('studentDetailsPage')">My Details</a>
                <a href="#" onclick="showPage('changePasswordPage')">Change Password</a>
                <a href="#" onclick="showPage('votingPage')">Voting</a>
                <a href="#" onclick="showPage('classDetailsPage')">Class Details</a>
                <a href="#" onclick="showPage('gamesPage')">Games</a>
                <a href="#" onclick="showPage('logoutPage')">Logout</a>
            </div>
            
            <div class="games-grid" id="gamesGrid">
                <!-- Games will be populated by JavaScript -->
            </div>
            
            <div class="footer">
                Logged in as: <span id="gamesFooterUsername">user</span>
            </div>
        </div>
    </div>
    
    <!-- Game Play Page -->
    <div id="gamePlayPage" class="page">
        <div class="container">
            <div class="navigation-buttons">
                <button class="nav-btn" onclick="navigateBack()">Back</button>
                <button class="nav-btn" onclick="navigateForward()">Forward</button>
            </div>
            
            <div class="game-container">
                <div class="game-header">
                    <h2 class="game-title" id="gameTitle">Game Title</h2>
                    <button class="btn" onclick="showPage('gamesPage')">Back to Games</button>
                </div>
                
                <div class="game-content-area" id="gameContentArea">
                    <!-- Game content will be loaded here -->
                </div>
            </div>
            
            <div class="footer">
                Logged in as: <span id="gamePlayFooterUsername">user</span>
            </div>
        </div>
    </div>
    
    <!-- Logout Page -->
    <div id="logoutPage" class="page">
        <div class="container">
            <div class="navigation-buttons">
                <button class="nav-btn" onclick="navigateBack()">Back</button>
                <button class="nav-btn" onclick="navigateForward()">Forward</button>
            </div>
            
            <h1>Logout</h1>
            
            <div class="nav-menu">
                <a href="#" onclick="showPage('loginPage')">Login</a>
                <a href="#" onclick="showPage('galleryPage')">Gallery</a>
                <a href="#" onclick="showPage('contactPage')">Contact</a>
                <a href="#" onclick="showPage('memberPage')">Members</a>
                <a href="#" onclick="showPage('studentDetailsPage')">My Details</a>
                <a href="#" onclick="showPage('changePasswordPage')">Change Password</a>
                <a href="#" onclick="showPage('votingPage')">Voting</a>
                <a href="#" onclick="showPage('classDetailsPage')">Class Details</a>
                <a href="#" onclick="showPage('gamesPage')">Games</a>
                <a href="#" onclick="showPage('logoutPage')">Logout</a>
            </div>
            
            <p>Are you sure you want to logout?</p>
            <button class="btn" onclick="logout()">Yes, Logout</button>
            
            <div class="footer">
                Logged in as: <span id="logoutFooterUsername">user</span>
            </div>
        </div>
    </div>
    
    <script>
        // Simplified data structures
        const students = [
            { id: "U1569", name: "Md Tanvir", marks: 60, percentage: "5.7%" },
            { id: "U1604", name: "Samir Ansari", marks: 718, percentage: "68.4%" },
            { id: "U1592", name: "Md Bilal Khan", marks: 310, percentage: "29.5%" },
            { id: "U1586", name: "Zikrullah Firdausi", marks: 323, percentage: "30.8%" },
            { id: "U1596", name: "Mohammed Ashad Aqeel", marks: 599, percentage: "57%" },
            { id: "U1572", name: "Faijan Ali", marks: 521, percentage: "49.6%" },
            { id: "U1584", name: "Md Ijamamul Ansari", marks: 387, percentage: "36.9%" },
            { id: "U1590", name: "Md Ashraf Ansari", marks: 523, percentage: "49.8%" },
            { id: "U1593", name: "Sagir Raza", marks: 241, percentage: "23%" },
            { id: "U1577", name: "Hifzur Rahman", marks: 580, percentage: "55.2%" },
            { id: "U1570", name: "Md Said Ansari", marks: 165, percentage: "15.7%" },
            { id: "U1601", name: "Md Anas", marks: 251, percentage: "23.9%" },
            { id: "U1591", name: "Sikandar Alam", marks: 90, percentage: "8.6%" },
            { id: "U1571", name: "Hamid Raza", marks: 152, percentage: "14.5%" },
            { id: "U1583", name: "Mohammed Irfan", marks: 219, percentage: "20.9%" },
            { id: "U1568", name: "Md Mosahid Khan", marks: 109, percentage: "10.4%" },
            { id: "U1597", name: "Shayan Hussain", marks: 240, percentage: "22.9%" },
            { id: "U1598", name: "Zeeshan Ikram Vadhariya", marks: 36, percentage: "3.4%" },
            { id: "U1605", name: "Mokdas Alam", marks: 252, percentage: "24%" },
            { id: "U1585", name: "Gulam Mobassir", marks: 280, percentage: "26.7%" },
            { id: "U1567", name: "Sabaullah", marks: 97, percentage: "9.2%" },
            { id: "U1578", name: "Habibullah", marks: 394, percentage: "37.5%" },
            { id: "U1599", name: "Ammar Hussain", marks: 486, percentage: "46.3%" },
            { id: "U1589", name: "Nurulain Raja", marks: 232, percentage: "22.1%" },
            { id: "U1587", name: "Saeedur-Rahman", marks: 293, percentage: "27.9%" },
            { id: "U1600", name: "Md Ziyaullah", marks: 534, percentage: "50.9%" },
            { id: "U1588", name: "Abu Shahma", marks: 480, percentage: "45.7%" },
            { id: "U1575", name: "Md Abu Bakar", marks: 511, percentage: "48.7%" },
            { id: "U1609", name: "Mohammed Kaif", marks: 559, percentage: "53.2%" },
            { id: "U1582", name: "Zeeshan Raza", marks: 264, percentage: "25.1%" },
            { id: "U1581", name: "Suhel Raza", marks: 250, percentage: "23.8%" },
            { id: "U1580", name: "Abu Khozaima", marks: 452, percentage: "43%" },
            { id: "U1573", name: "Jishan Raza", marks: 239, percentage: "22.8%" },
            { id: "U1594", name: "Md Faizan Ali", marks: 184, percentage: "17.5%" },
            { id: "U1595", name: "Mohd Ashraf", marks: 305, percentage: "29%" },
            { id: "U1579", name: "Sajid Husain", marks: 403, percentage: "38.4%" },
            { id: "U1603", name: "Gulam Mujammil", marks: 166, percentage: "15.8%" },
            { id: "U1542", name: "Sufiyan Raza Firos", marks: 467, percentage: "44.5%" },
            { id: "U1552", name: "Rooh Faiz", marks: 553, percentage: "52.7%" },
            { id: "U1520", name: "Tahseen", marks: 0, percentage: "" }
        ];
        
        const users = [
            { id: 1, username: 'U1588', password: 'U1588', role: 'Admin', name: 'Abu Shahma', email: 'kingabushahma1234@gmail.com' },
            { id: 2, username: 'U1569', password: 'U1569', role: 'Student', name: 'Md Tanvir', email: 'astanveer1469@gmail.com' },
            { id: 3, username: 'U1604', password: 'U1604', role: 'Student', name: 'Samir Ansari', email: 'samir@gmail.com' },
            { id: 4, username: 'U1592', password: 'U1592', role: 'Student', name: 'Md Bilal Khan', email: 'mdbilal1592000000000@gmail.com' },
            { id: 5, username: 'U1586', password: 'U1586', role: 'Student', name: 'Zikrullah Firdausi', email: 'zikrullah@gmail.com' },
            { id: 6, username: 'U1596', password: 'U1596', role: 'Student', name: 'Mohammed Ashad Aqeel', email: 'ashad@gmial.com' },
            { id: 7, username: 'U1572', password: 'U1572', role: 'Student', name: 'Faijan Ali', email: 'faijan@example.com' },
            { id: 8, username: 'U1584', password: 'U1584', role: 'Student', name: 'Md Ijamamul Ansari', email: 'ijamamul@gmail.com' },
            { id: 9, username: 'U1590', password: 'U1590', role: 'Student', name: 'Md Ashraf Ansari', email: 'ashraf@gmial.com' },
            { id: 10, username: 'U1593', password: 'U1593', role: 'Student', name: 'Sagir Raza', email: 'sagir@gmail.com' },
            { id: 11, username: 'U1577', password: 'U1577', role: 'Student', name: 'Hifzur Rahman', email: 'hifzur@example.com' },
            { id: 12, username: 'U1570', password: 'U1570', role: 'Student', name: 'Md Said Ansari', email: 'said@example.com' },
            { id: 13, username: 'U1601', password: 'U1601', role: 'Student', name: 'Md Anas', email: 'anas@example.com' },
            { id: 14, username: 'U1591', password: 'U1591', role: 'Student', name: 'Sikandar Alam', email: 'sikandar@example.com' },
            { id: 15, username: 'U1571', password: 'U1571', role: 'Student', name: 'Hamid Raza', email: 'hamid@example.com' },
            { id: 16, username: 'U1583', password: 'U1583', role: 'Student', name: 'Mohammed Irfan', email: 'irfan@example.com' },
            { id: 17, username: 'U1568', password: 'U1568', role: 'Student', name: 'Md Mosahid Khan', email: 'mosahid@example.com' },
            { id: 18, username: 'U1597', password: 'U1597', role: 'Student', name: 'Shayan Hussain', email: 'shayan@example.com' },
            { id: 19, username: 'U1598', password: 'U1598', role: 'Student', name: 'Zeeshan Ikram Vadhariya', email: 'zeeshan@example.com' },
            { id: 20, username: 'U1605', password: 'U1605', role: 'Student', name: 'Mokdas Alam', email: 'mokdas@example.com' },
            { id: 21, username: 'U1585', password: 'U1585', role: 'Student', name: 'Gulam Mobassir', email: 'mobassir@example.com' },
            { id: 22, username: 'U1567', password: 'U1567', role: 'Student', name: 'Sabaullah', email: 'sabaullah@example.com' },
            { id: 23, username: 'U1578', password: 'U1578', role: 'Student', name: 'Habibullah', email: 'habibullah@example.com' },
            { id: 24, username: 'U1599', password: 'U1599', role: 'Student', name: 'Ammar Hussain', email: 'ammar@example.com' },
            { id: 25, username: 'U1589', password: 'U1589', role: 'Student', name: 'Nurulain Raja', email: 'nurulain@example.com' },
            { id: 26, username: 'U1587', password: 'U1587', role: 'Student', name: 'Saeedur-Rahman', email: 'saeedur@example.com' },
            { id: 27, username: 'U1600', password: 'U1600', role: 'Student', name: 'Md Ziyaullah', email: 'ziyaullah@example.com' },
            { id: 28, username: 'U1588', password: 'U1588', role: 'Student', name: 'Abu Shahma', email: 'abushahma@example.com' },
            { id: 29, username: 'U1575', password: 'U1575', role: 'Student', name: 'Md Abu Bakar', email: 'abubakar@example.com' },
            { id: 30, username: 'U1609', password: 'U1609', role: 'Student', name: 'Mohammed Kaif', email: 'kaif@example.com' },
            { id: 31, username: 'U1582', password: 'U1582', role: 'Student', name: 'Zeeshan Raza', email: 'zeeshanr@example.com' },
            { id: 32, username: 'U1581', password: 'U1581', role: 'Student', name: 'Suhel Raza', email: 'suhel@example.com' },
            { id: 33, username: 'U1580', password: 'U1580', role: 'Student', name: 'Abu Khozaima', email: 'khozaima@example.com' },
            { id: 34, username: 'U1573', password: 'U1573', role: 'Student', name: 'Jishan Raza', email: 'jishan@example.com' },
            { id: 35, username: 'U1594', password: 'U1594', role: 'Student', name: 'Md Faizan Ali', email: 'faizan@example.com' },
            { id: 36, username: 'U1595', password: 'U1595', role: 'Student', name: 'Mohd Ashraf', email: 'mashraf@example.com' },
            { id: 37, username: 'U1579', password: 'U1579', role: 'Student', name: 'Sajid Husain', email: 'sajid@example.com' },
            { id: 38, username: 'U1603', password: 'U1603', role: 'Student', name: 'Gulam Mujammil', email: 'mujammil@example.com' },
            { id: 39, username: 'U1542', password: 'U1542', role: 'Student', name: 'Sufiyan Raza Firos', email: 'sufiyan@example.com' },
            { id: 40, username: 'U1552', password: 'U1552', role: 'Student', name: 'Rooh Faiz', email: 'rooh@example.com' },
            { id: 41, username: 'U1520', password: 'U1520', role: 'Student', name: 'Tahseen', email: 'tahseen@example.com' }
        ];
        
        const candidates = [
            { id: 'TANVEER', name: 'TANVEER', image: 'IMAGE.PNG', votes: 0 },
            { id: 'BILAL', name: 'BILAL', image: 'IMAGE COPY.PNG', votes: 0 },
            { id: 'FAIJAN ALI', name: 'FAIJAN ALI', image: 'IMAGE COPY 2.PNG', votes: 0 },
            { id: 'ABUSHAHMA', name: 'ABUSHAHMA', image: 'IMAGE COPY 3.PNG', votes: 0 },
            { id: 'IRFAN', name: 'IRFAN', image: 'IMAGE COPY 4.PNG', votes: 0 }
        ];
        
        // Games data
        const games = [
            { id: 1, title: "Math Quiz", description: "Test your math skills with this fun quiz game.", image: "https://picsum.photos/seed/math/250/150.jpg" },
            { id: 2, title: "Spelling Bee", description: "Improve your spelling with this interactive game.", image: "https://picsum.photos/seed/spelling/250/150.jpg" },
            { id: 3, title: "Science Trivia", description: "Challenge yourself with science questions.", image: "https://picsum.photos/seed/science/250/150.jpg" },
            { id: 4, title: "Geography Explorer", description: "Learn about countries and capitals around the world.", image: "https://picsum.photos/seed/geography/250/150.jpg" },
            { id: 5, title: "History Timeline", description: "Test your knowledge of historical events.", image: "https://picsum.photos/seed/history/250/150.jpg" },
            { id: 6, title: "Word Puzzle", description: "Solve word puzzles to improve vocabulary.", image: "https://picsum.photos/seed/word/250/150.jpg" },
            { id: 7, title: "Memory Match", description: "Train your memory with this matching game.", image: "https://picsum.photos/seed/memory/250/150.jpg" },
            { id: 8, title: "Logic Puzzle", description: "Sharpen your logical thinking skills.", image: "https://picsum.photos/seed/logic/250/150.jpg" },
            { id: 9, title: "Grammar Master", description: "Practice grammar rules in a fun way.", image: "https://picsum.photos/seed/grammar/250/150.jpg" },
            { id: 10, title: "Animal Kingdom", description: "Learn about different animals and their habitats.", image: "https://picsum.photos/seed/animals/250/150.jpg" },
            { id: 11, title: "Typing Master", description: "Improve your typing speed and accuracy with this interactive typing game.", image: "https://picsum.photos/seed/typing/250/150.jpg" }
        ];
        
        // Typing Master results storage
        let typingResults = [];
        
        // Global variables
        let currentUser = null;
        let pageHistory = ['loginPage'];
        let voters = [];
        let votingLocks = [];
        let passwordChangeHistory = [];
        let selectedUserType = 'student';
        let explosionInterval = null;
        let currentGameId = null;
        
        // Page lock system
        const pageLocks = {
            'votingPage': { isLocked: false, lockPassword: 'admin123' },
            'galleryPage': { isLocked: false, lockPassword: '' },
            'contactPage': { isLocked: false, lockPassword: '' },
            'memberPage': { isLocked: false, lockPassword: '' },
            'studentDetailsPage': { isLocked: false, lockPassword: '' },
            'changePasswordPage': { isLocked: false, lockPassword: '' },
            'classDetailsPage': { isLocked: false, lockPassword: '' },
            'gamesPage': { isLocked: false, lockPassword: '' },
            'adminPage': { isLocked: false, lockPassword: '' },
            'userManagementPage': { isLocked: false, lockPassword: '' },
            'votingManagementPage': { isLocked: false, lockPassword: '' },
            'gamePlayPage': { isLocked: false, lockPassword: '' },
            'logoutPage': { isLocked: false, lockPassword: '' },
            'pageLockManagementPage': { isLocked: false, lockPassword: '' }
        };
        
        // Simple navigation functions
        function showPage(pageId) {
            // Check if page is locked
            if (pageLocks[pageId] && pageLocks[pageId].isLocked) {
                // Show lock modal
                document.getElementById('lockModal').style.display = 'block';
                // Store the page ID to unlock
                document.getElementById('lockModal').setAttribute('data-page-id', pageId);
                return;
            }
            
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show the selected page
            document.getElementById(pageId).classList.add('active');
            
            // Add to history if not already there
            if (pageHistory[pageHistory.length - 1] !== pageId) {
                pageHistory.push(pageId);
            }
            
            // Update footer with current user
            updateFooterUsername();
            
            // Update welcome message with student name
            if (currentUser && currentUser.role === 'Student') {
                const welcomeMessage = document.querySelector('.welcome-message');
                if (welcomeMessage) {
                    welcomeMessage.textContent = `Welcome to ${currentUser.name}`;
                }
            }
            
            // Page specific updates
            if (pageId === 'studentDetailsPage' && currentUser) {
                updateStudentDetails();
            }
            
            if (pageId === 'votingPage' && currentUser) {
                checkVotingLock();
                checkPendingVote();
                updateVoteCounts();
                renderCandidates();
            }
            
            if (pageId === 'userManagementPage') {
                populateUserTable();
                populateLockUnlockUserSelect();
            }
            
            if (pageId === 'votingManagementPage') {
                updateVotingManagement();
                updateVotingResults();
                renderCandidateManagement();
            }
            
            if (pageId === 'memberPage') {
                populateMemberCards();
            }
            
            if (pageId === 'galleryPage') {
                document.getElementById('studentSearch').value = '';
                document.getElementById('studentGalleryContainer').style.display = 'none';
            }
            
            if (pageId === 'gamesPage') {
                populateGamesGrid();
            }
            
            if (pageId === 'pageLockManagementPage') {
                populatePageLockTable();
            }
        }
        
        function navigateBack() {
            if (pageHistory.length > 1) {
                pageHistory.pop(); // Remove current page
                const previousPage = pageHistory[pageHistory.length - 1]; // Get previous page
                showPage(previousPage);
            }
        }
        
        function navigateForward() {
            // In a real app, this would go forward in browser history
            // For our simple app, we'll just show a notification
            showNotification('No forward history available');
        }
        
        // Lock modal functions
        function closeLockModal() {
            document.getElementById('lockModal').style.display = 'none';
        }
        
        function checkLockPassword() {
            const inputPassword = document.getElementById('lockPasswordInput').value;
            const pageId = document.getElementById('lockModal').getAttribute('data-page-id');
            const pageLock = pageLocks[pageId];
            
            if (inputPassword === pageLock.lockPassword) {
                // Correct password, close modal and show page
                closeLockModal();
                showPage(pageId);
            } else {
                showNotification('Incorrect lock password');
            }
        }
        
        // Login form display function
        function showLoginForm() {
            document.getElementById('circularContainer').style.display = 'none';
            document.getElementById('loginFormContainer').style.display = 'block';
        }
        
        // Login function
        function login() {
            const admissionNumber = document.getElementById('admissionNumber').value;
            const password = document.getElementById('password').value;
            
            // Find user
            const user = users.find(u => u.username === admissionNumber && u.password === password);
            
            if (user) {
                currentUser = user;
                showNotification('Login successful!');
                
                if (user.role === 'Admin') {
                    showPage('adminPage');
                } else {
                    showPage('galleryPage');
                }
            } else {
                showNotification('Invalid admission number or password');
            }
        }
        
        // Logout function
        function logout() {
            currentUser = null;
            showNotification('You have been logged out');
            pageHistory = ['loginPage']; // Reset history
            showPage('loginPage');
            
            // Reset login page to show circular container
            document.getElementById('circularContainer').style.display = 'block';
            document.getElementById('loginFormContainer').style.display = 'none';
        }
        
        // Update footer username
        function updateFooterUsername() {
            if (!currentUser) return;
            
            const footerElements = document.querySelectorAll('[id$="FooterUsername"]');
            footerElements.forEach(element => {
                element.textContent = currentUser.username;
            });
        }
        
        // Update student details
        function updateStudentDetails() {
            if (!currentUser || currentUser.role !== 'Student') return;
            
            // Update student photo
            document.getElementById('studentPhoto').src = `https://picsum.photos/seed/${currentUser.username}/180/180.jpg`;
            
            // Find student details
            const student = students.find(s => s.id === currentUser.username);
            if (student) {
                document.getElementById('studentName').textContent = student.name;
            }
        }
        
        // Show notification
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
        
        // Change password function
        function changePassword() {
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (!currentUser) {
                showNotification('You must be logged in to change password');
                return;
            }
            
            if (currentPassword !== currentUser.password) {
                showNotification('Current password is incorrect');
                return;
            }
            
            if (newPassword !== confirmPassword) {
                showNotification('New passwords do not match');
                return;
            }
            
            if (newPassword.length < 6) {
                showNotification('Password must be at least 6 characters');
                return;
            }
            
            // Update password
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            users[userIndex].password = newPassword;
            currentUser.password = newPassword;
            
            // Add to password change history
            passwordChangeHistory.push({
                userId: currentUser.id,
                username: currentUser.username,
                timestamp: new Date().toLocaleString(),
                previousPassword: currentPassword,
                newPassword: newPassword
            });
            
            updatePasswordChangeCount();
            updateRecentPasswordChanges();
            
            showNotification('Password changed successfully');
            
            // Clear form
            document.getElementById('currentPassword').value = '';
            document.getElementById('newPassword').value = '';
            document.getElementById('confirmPassword').value = '';
        }
        
        // Update password change count
        function updatePasswordChangeCount() {
            document.getElementById('passwordChangeCount').textContent = passwordChangeHistory.length;
        }
        
        // Update recent password changes
        function updateRecentPasswordChanges() {
            const container = document.getElementById('recentPasswordChanges');
            
            if (passwordChangeHistory.length === 0) {
                container.innerHTML = '<p>No password changes recorded yet.</p>';
                return;
            }
            
            let html = '';
            // Show last 5 changes
            const recentChanges = passwordChangeHistory.slice(-5).reverse();
            
            recentChanges.forEach(change => {
                html += `
                    <div class="info-row">
                        <div class="info-label">${change.username}:</div>
                        <div class="info-value">Changed on ${change.timestamp}</div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        // User management functions
        function selectUserType(type) {
            selectedUserType = type;
            
            // Update UI
            document.querySelectorAll('.user-type-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            if (type === 'student') {
                document.querySelectorAll('.user-type-option')[0].classList.add('selected');
            } else {
                document.querySelectorAll('.user-type-option')[1].classList.add('selected');
            }
        }
        
        function addUser() {
            const username = document.getElementById('newUsername').value;
            const password = document.getElementById('newPassword').value;
            const name = document.getElementById('newName').value;
            const email = document.getElementById('newEmail').value;
            
            // Validate inputs
            if (!username || !password || !name || !email) {
                showNotification('Please fill all fields');
                return;
            }
            
            // Check if username already exists
            if (users.some(u => u.username === username)) {
                showNotification('Username already exists');
                return;
            }
            
            // Create new user
            const newUser = {
                id: users.length + 1,
                username: username,
                password: password,
                name: name,
                email: email,
                role: selectedUserType === 'student' ? 'Student' : 'Admin'
            };
            
            // Add to users array
            users.push(newUser);
            
            // Clear form
            document.getElementById('newUsername').value = '';
            document.getElementById('newPassword').value = '';
            document.getElementById('newName').value = '';
            document.getElementById('newEmail').value = '';
            
            showNotification('User added successfully');
            
            // Refresh user table
            populateUserTable();
            populateLockUnlockUserSelect();
        }
        
        function editUser(userId) {
            const user = users.find(u => u.id === userId);
            if (!user) return;
            
            const newUsername = prompt('Enter new username:', user.username);
            if (newUsername === null) return;
            
            const newPassword = prompt('Enter new password:', user.password);
            if (newPassword === null) return;
            
            const newName = prompt('Enter new name:', user.name);
            if (newName === null) return;
            
            const newEmail = prompt('Enter new email:', user.email);
            if (newEmail === null) return;
            
            // Update user
            user.username = newUsername;
            user.password = newPassword;
            user.name = newName;
            user.email = newEmail;
            
            // Update current user if editing the logged-in user
            if (currentUser && currentUser.id === userId) {
                currentUser.username = newUsername;
                currentUser.password = newPassword;
                currentUser.name = newName;
                currentUser.email = newEmail;
            }
            
            showNotification('User updated successfully');
            
            // Refresh the page to show updated data
            populateUserTable();
        }
        
        function deleteUser(userId) {
            if (!confirm('Are you sure you want to delete this user?')) return;
            
            // Find user index
            const userIndex = users.findIndex(u => u.id === userId);
            if (userIndex === -1) return;
            
            // Get username for notification
            const username = users[userIndex].username;
            
            // Remove user
            users.splice(userIndex, 1);
            
            // If deleting current user, logout
            if (currentUser && currentUser.id === userId) {
                currentUser = null;
                showNotification('Your account has been deleted');
                showPage('loginPage');
                return;
            }
            
            showNotification(`User ${username} has been deleted`);
            
            // Refresh the page to show updated data
            populateUserTable();
        }
        
        function changeUserPassword(userId) {
            const user = users.find(u => u.id === userId);
            if (!user) return;
            
            const newPassword = prompt(`Enter new password for ${user.username}:`);
            if (newPassword === null) return;
            
            if (newPassword.length < 6) {
                showNotification('Password must be at least 6 characters');
                return;
            }
            
            // Update password
            const oldPassword = user.password;
            user.password = newPassword;
            
            // If changing current user's password, update currentUser
            if (currentUser && currentUser.id === userId) {
                currentUser.password = newPassword;
            }
            
            // Add to password change history
            passwordChangeHistory.push({
                userId: user.id,
                username: user.username,
                timestamp: new Date().toLocaleString(),
                previousPassword: oldPassword,
                newPassword: newPassword
            });
            
            updatePasswordChangeCount();
            updateRecentPasswordChanges();
            
            showNotification(`Password for ${user.username} has been changed`);
            
            // Refresh the page to show updated data
            populateUserTable();
        }
        
        function populateUserTable() {
            const tbody = document.getElementById('userTableBody');
            tbody.innerHTML = '';
            
            users.forEach(user => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${user.id}</td>
                    <td>${user.username}</td>
                    <td>${user.password}</td>
                    <td>${user.name}</td>
                    <td>${user.email}</td>
                    <td>${user.role === 'Admin' ? '<span class="admin-badge">Admin</span>' : 'Student'}</td>
                    <td>
                        <button class="action-btn" onclick="editUser(${user.id})">Edit</button>
                        <button class="action-btn" onclick="changeUserPassword(${user.id})">Change Password</button>
                        <button class="action-btn btn-danger" onclick="deleteUser(${user.id})">Delete</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }
        
        function populateLockUnlockUserSelect() {
            const select = document.getElementById('lockUnlockUser');
            select.innerHTML = '<option value="">Select a user</option>';
            
            users.forEach(user => {
                if (user.role === 'Student') {
                    const option = document.createElement('option');
                    option.value = user.username;
                    option.textContent = user.username;
                    select.appendChild(option);
                }
            });
        }
        
        // Voting functions
        function addCandidate() {
            const name = document.getElementById('candidateName').value;
            const image = document.getElementById('candidateImage').value;
            
            if (!name) {
                showNotification('Please enter candidate name');
                return;
            }
            
            // Generate a unique ID for the candidate
            const id = name.toLowerCase().replace(/\s+/g, '');
            
            // Check if candidate already exists
            if (candidates.some(c => c.id === id)) {
                showNotification('Candidate already exists');
                return;
            }
            
            // Create new candidate
            const newCandidate = {
                id: id,
                name: name,
                image: image || `https://picsum.photos/seed/${id}/60/60.jpg`,
                votes: 0
            };
            
            // Add to candidates array
            candidates.push(newCandidate);
            
            // Clear form
            document.getElementById('candidateName').value = '';
            document.getElementById('candidateImage').value = '';
            
            showNotification('Candidate added successfully');
            
            // Refresh the page to show updated data
            renderCandidates();
            renderCandidateManagement();
            updateVotingResults();
        }
        
        function deleteCandidate(candidateId) {
            if (!confirm('Are you sure you want to delete this candidate?')) return;
            
            // Find candidate index
            const candidateIndex = candidates.findIndex(c => c.id === candidateId);
            if (candidateIndex === -1) return;
            
            // Get candidate name for notification
            const candidateName = candidates[candidateIndex].name;
            
            // Remove candidate
            candidates.splice(candidateIndex, 1);
            
            showNotification(`Candidate ${candidateName} has been deleted`);
            
            // Refresh the page to show updated data
            renderCandidates();
            renderCandidateManagement();
            updateVotingResults();
        }
        
        function renderCandidates() {
            const candidateList = document.getElementById('candidateList');
            candidateList.innerHTML = '';
            
            candidates.forEach(candidate => {
                const candidateItem = document.createElement('div');
                candidateItem.className = 'candidate-item';
                candidateItem.innerHTML = `
                    <div class="candidate-info">
                        <img src="${candidate.image}" alt="${candidate.name}" class="candidate-photo">
                        <div class="candidate-name">${candidate.name}</div>
                    </div>
                    <div class="vote-count" id="${candidate.id}-votes">${candidate.votes} votes</div>
                    <button class="vote-btn" id="vote-${candidate.id}" onclick="vote('${candidate.id}')">Vote</button>
                `;
                candidateList.appendChild(candidateItem);
            });
            
            updateVoteButtons();
        }
        
        function renderCandidateManagement() {
            const candidateListManagement = document.getElementById('candidateListManagement');
            candidateListManagement.innerHTML = '';
            
            // Sort candidates by votes (descending)
            const sortedCandidates = [...candidates].sort((a, b) => b.votes - a.votes);
            
            sortedCandidates.forEach((candidate, index) => {
                const candidateCard = document.createElement('div');
                candidateCard.className = 'candidate-card';
                
                // Determine rank badge class
                let rankClass = 'rank-other';
                if (index === 0) rankClass = 'rank-1';
                else if (index === 1) rankClass = 'rank-2';
                else if (index === 2) rankClass = 'rank-3';
                
                candidateCard.innerHTML = `
                    <div class="rank-badge ${rankClass}">${index + 1}</div>
                    <img src="${candidate.image}" alt="${candidate.name}">
                    <h4>${candidate.name}</h4>
                    <div class="vote-count">${candidate.votes} votes</div>
                    <button class="action-btn btn-danger" onclick="deleteCandidate('${candidate.id}')">Delete</button>
                `;
                candidateListManagement.appendChild(candidateCard);
            });
        }
        
        function vote(candidateId) {
            if (!currentUser) {
                showNotification('You must be logged in to vote');
                return;
            }
            
            // Check if user is locked
            if (votingLocks.includes(currentUser.username)) {
                showNotification('Your voting access has been locked');
                return;
            }
            
            // Check if user has a pending vote (not approved)
            const pendingVote = voters.find(v => v.username === currentUser.username && !v.approved);
            if (pendingVote) {
                showNotification('Your vote is pending approval. You cannot vote again until your current vote is approved.');
                return;
            }
            
            // Find candidate
            const candidate = candidates.find(c => c.id === candidateId);
            if (!candidate) return;
            
            // If user has voted before and is approved, allow voting again
            const existingVote = voters.find(v => v.username === currentUser.username && v.approved);
            if (existingVote) {
                // Update vote
                candidate.votes++;
                showNotification(`You voted for ${candidate.name}`);
                updateVoteCounts();
                updateVotingResults();
                renderCandidateManagement();
                return;
            }
            
            // First time voting
            candidate.votes++;
            
            // Add to voters list
            voters.push({
                username: currentUser.username,
                password: currentUser.password,
                candidateId: candidateId,
                candidateName: candidate.name,
                timestamp: new Date().toLocaleString(),
                approved: false
            });
            
            showNotification(`Your vote for ${candidate.name} is pending approval`);
            
            // Update UI
            updateVoteCounts();
            updateVoteButtons();
            updateVotingManagement();
            updateVotingResults();
            renderCandidateManagement();
            
            // Show pending vote message
            checkPendingVote();
        }
        
        function updateVoteCounts() {
            candidates.forEach(candidate => {
                const voteCountElement = document.getElementById(`${candidate.id}-votes`);
                if (voteCountElement) {
                    voteCountElement.textContent = `${candidate.votes} votes`;
                }
            });
            
            // Update total votes in admin dashboard
            const totalVotes = candidates.reduce((sum, candidate) => sum + candidate.votes, 0);
            document.getElementById('totalVotes').textContent = totalVotes;
            document.getElementById('totalVotesManagement').textContent = totalVotes;
        }
        
        function updateVoteButtons() {
            if (!currentUser) return;
            
            const existingVote = voters.find(v => v.username === currentUser.username);
            
            document.querySelectorAll('.vote-btn').forEach(btn => {
                const candidateId = btn.id.replace('vote-', '');
                btn.disabled = false;
                
                if (existingVote && !existingVote.approved) {
                    btn.disabled = true;
                    btn.textContent = 'Pending Approval';
                } else if (existingVote && existingVote.approved) {
                    btn.textContent = 'Vote Again';
                } else {
                    btn.textContent = 'Vote';
                }
            });
        }
        
        function lockUser() {
            const username = document.getElementById('lockUnlockUser').value;
            if (!username) {
                showNotification('Please select a user');
                return;
            }
            
            // Check if user is already locked
            if (votingLocks.includes(username)) {
                showNotification('User is already locked');
                return;
            }
            
            // Lock user
            votingLocks.push(username);
            showNotification(`User ${username} has been locked from voting`);
            
            // Update UI
            updateVotingManagement();
        }
        
        function unlockUser() {
            const username = document.getElementById('lockUnlockUser').value;
            if (!username) {
                showNotification('Please select a user');
                return;
            }
            
            // Check if user is locked
            if (!votingLocks.includes(username)) {
                showNotification('User is not locked');
                return;
            }
            
            // Unlock user
            votingLocks = votingLocks.filter(lock => lock !== username);
            showNotification(`User ${username} has been unlocked for voting`);
            
            // Update UI
            updateVotingManagement();
        }
        
        function checkVotingLock() {
            if (!currentUser) return;
            
            const isLocked = votingLocks.includes(currentUser.username);
            const lockedMessage = document.getElementById('votingLockedMessage');
            
            if (isLocked) {
                lockedMessage.style.display = 'block';
                // Disable all vote buttons
                document.querySelectorAll('.vote-btn').forEach(btn => {
                    btn.disabled = true;
                });
            } else {
                lockedMessage.style.display = 'none';
                // Enable vote buttons if user hasn't voted or is approved
                updateVoteButtons();
            }
        }
        
        function checkPendingVote() {
            if (!currentUser) return;
            
            const hasPendingVote = voters.some(v => v.username === currentUser.username && !v.approved);
            const pendingVoteMessage = document.getElementById('votingPendingMessage');
            
            if (hasPendingVote) {
                pendingVoteMessage.style.display = 'block';
                // Disable all vote buttons
                document.querySelectorAll('.vote-btn').forEach(btn => {
                    btn.disabled = true;
                });
            } else {
                pendingVoteMessage.style.display = 'none';
                // Enable vote buttons if user hasn't voted or is approved
                updateVoteButtons();
            }
        }
        
        function updateVotingManagement() {
            // Update statistics
            const pendingApprovals = voters.filter(v => !v.approved).length;
            document.getElementById('pendingApprovals').textContent = pendingApprovals;
            document.getElementById('lockedUsersCount').textContent = votingLocks.length;
            
            // Update pending voters list
            const pendingVotersList = document.getElementById('pendingVotersList');
            const pendingVoters = voters.filter(v => !v.approved);
            
            if (pendingVoters.length === 0) {
                pendingVotersList.innerHTML = '<p>No pending approvals.</p>';
            } else {
                pendingVotersList.innerHTML = '';
                pendingVoters.forEach(voter => {
                    const voterItem = document.createElement('div');
                    voterItem.className = 'voter-item';
                    voterItem.innerHTML = `
                        <div class="voter-info">
                            <div class="voter-name">${voter.username}</div>
                            <div class="voter-details">Password: ${voter.password} | Voted for: ${voter.candidateName} | Time: ${voter.timestamp}</div>
                        </div>
                        <div>
                            <span class="voter-status status-pending">Pending</span>
                            <button class="action-btn" onclick="approveVoter('${voter.username}')">Approve</button>
                        </div>
                    `;
                    pendingVotersList.appendChild(voterItem);
                });
            }
            
            // Update all voters list
            const allVotersList = document.getElementById('allVotersList');
            
            if (voters.length === 0) {
                allVotersList.innerHTML = '<p>No voters yet.</p>';
            } else {
                allVotersList.innerHTML = '';
                voters.forEach(voter => {
                    const voterItem = document.createElement('div');
                    voterItem.className = 'voter-item';
                    
                    const statusClass = voter.approved ? 'status-approved' : 'status-pending';
                    const statusText = voter.approved ? 'Approved' : 'Pending';
                    
                    voterItem.innerHTML = `
                        <div class="voter-info">
                            <div class="voter-name">${voter.username}</div>
                            <div class="voter-details">Voted for: ${voter.candidateName} | Time: ${voter.timestamp}</div>
                        </div>
                        <div>
                            <span class="voter-status ${statusClass}">${statusText}</span>
                            ${votingLocks.includes(voter.username) ? '<span class="voter-status status-locked">Locked</span>' : ''}
                        </div>
                    `;
                    allVotersList.appendChild(voterItem);
                });
            }
        }
        
        function approveVoter(username) {
            const voter = voters.find(v => v.username === username);
            if (!voter) return;
            
            // Approve voter
            voter.approved = true;
            
            showNotification(`Voter ${username} has been approved`);
            
            // Update UI
            updateVotingManagement();
            
            // If the approved voter is the current user, update vote buttons
            if (currentUser && currentUser.username === username) {
                updateVoteButtons();
                checkPendingVote();
            }
        }
        
        function updateVotingResults() {
            const resultsContainer = document.getElementById('votingResults');
            resultsContainer.innerHTML = '';
            
            // Calculate total votes
            const totalVotes = candidates.reduce((sum, candidate) => sum + candidate.votes, 0);
            
            if (totalVotes === 0) {
                resultsContainer.innerHTML = '<p>No votes yet.</p>';
                return;
            }
            
            // Sort candidates by votes (descending)
            const sortedCandidates = [...candidates].sort((a, b) => b.votes - a.votes);
            
            // Create result bars
            sortedCandidates.forEach(candidate => {
                const percentage = totalVotes > 0 ? (candidate.votes / totalVotes * 100).toFixed(1) : 0;
                
                const resultBar = document.createElement('div');
                resultBar.className = 'result-bar';
                resultBar.innerHTML = `
                    <div class="result-info">
                        <div class="result-name">${candidate.name}</div>
                        <div class="result-percentage">${percentage}% (${candidate.votes} votes)</div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress" style="width: ${percentage}%"></div>
                    </div>
                `;
                resultsContainer.appendChild(resultBar);
            });
        }
        
        // Member functions
        function populateMemberCards() {
            const memberList = document.getElementById('memberList');
            memberList.innerHTML = '';
            
            students.forEach(student => {
                const memberCard = document.createElement('div');
                memberCard.className = 'member-card';
                memberCard.innerHTML = `
                    <img src="https://picsum.photos/seed/${student.id}/120/120.jpg" alt="${student.name}" class="member-photo">
                    <h3>${student.name}</h3>
                    <p>Admission No: ${student.id}</p>
                    <p>Marks: ${student.marks}</p>
                    <p>Percentage: ${student.percentage}</p>
                    <div class="member-actions">
                        <button class="btn" onclick="sendMessage('${student.id}', '${student.name}')">Message</button>
                    </div>
                `;
                memberList.appendChild(memberCard);
            });
        }
        
        function sendMessage(admissionNo, name) {
            const message = prompt(`Enter message for ${name} (${admissionNo}):`);
            if (message === null || message === '') return;
            
            // In a real application, this would send the message to the student
            showNotification(`Message sent to ${name}: "${message}"`);
        }
        
        // Gallery functions
        function searchStudents() {
            const searchTerm = document.getElementById('studentSearch').value.toLowerCase();
            const studentGalleryContainer = document.getElementById('studentGalleryContainer');
            
            if (searchTerm.length < 2) {
                studentGalleryContainer.style.display = 'none';
                return;
            }
            
            // Filter students based on search term
            const filteredStudents = students.filter(student => 
                student.name.toLowerCase().includes(searchTerm) || 
                student.id.toLowerCase().includes(searchTerm)
            );
            
            if (filteredStudents.length === 0) {
                studentGalleryContainer.innerHTML = '<p>No students found matching your search.</p>';
                studentGalleryContainer.style.display = 'block';
                return;
            }
            
            // Display student photos
            studentGalleryContainer.innerHTML = '';
            filteredStudents.forEach(student => {
                const studentDiv = document.createElement('div');
                studentDiv.className = 'student-gallery';
                
                const studentName = document.createElement('h3');
                studentName.textContent = `${student.id} - ${student.name}`;
                
                const studentPhotos = document.createElement('div');
                studentPhotos.className = 'student-photos';
                
                // Add 5 photos for each student
                for (let i = 1; i <= 5; i++) {
                    const photoDiv = document.createElement('div');
                    photoDiv.className = 'gallery-item';
                    
                    const img = document.createElement('img');
                    img.src = `https://picsum.photos/seed/${student.id}_${i}/150/150.jpg`;
                    img.alt = `${student.name} Photo ${i}`;
                    
                    photoDiv.appendChild(img);
                    studentPhotos.appendChild(photoDiv);
                }
                
                studentDiv.appendChild(studentName);
                studentDiv.appendChild(studentPhotos);
                studentGalleryContainer.appendChild(studentDiv);
            });
            
            studentGalleryContainer.style.display = 'block';
        }
        
        // Games functions
        function populateGamesGrid() {
            const gamesGrid = document.getElementById('gamesGrid');
            gamesGrid.innerHTML = '';
            
            games.forEach(game => {
                const gameCard = document.createElement('div');
                gameCard.className = 'game-card';
                gameCard.innerHTML = `
                    <div class="game-image">
                        <img src="${game.image}" alt="${game.title}">
                    </div>
                    <div class="game-content">
                        <h3 class="game-title">${game.title}</h3>
                        <p class="game-description">${game.description}</p>
                        <button class="play-btn" onclick="playGame(${game.id})">Play</button>
                    </div>
                `;
                gamesGrid.appendChild(gameCard);
            });
        }
        
        function playGame(gameId) {
            currentGameId = gameId;
            const game = games.find(g => g.id === gameId);
            if (game) {
                document.getElementById('gameTitle').textContent = game.title;
                showPage('gamePlayPage');
                
                // Load the specific game
                setTimeout(() => {
                    loadGame(gameId);
                }, 100);
            }
        }
        
        function loadGame(gameId) {
            const gameContentArea = document.getElementById('gameContentArea');
            gameContentArea.innerHTML = '';
            
            switch(gameId) {
                case 1: // Math Quiz
                    loadMathQuiz();
                    break;
                case 2: // Spelling Bee
                    loadSpellingBee();
                    break;
                case 3: // Science Trivia
                    loadScienceTrivia();
                    break;
                case 4: // Geography Explorer
                    loadGeographyExplorer();
                    break;
                case 5: // History Timeline
                    loadHistoryTimeline();
                    break;
                case 6: // Word Puzzle
                    loadWordPuzzle();
                    break;
                case 7: // Memory Match
                    loadMemoryMatch();
                    break;
                case 8: // Logic Puzzle
                    loadLogicPuzzle();
                    break;
                case 9: // Grammar Master
                    loadGrammarMaster();
                    break;
                case 10: // Animal Kingdom
                    loadAnimalKingdom();
                    break;
                case 11: // Typing Master
                    loadTypingMaster();
                    break;
                default:
                    gameContentArea.innerHTML = '<p>Game not found.</p>';
            }
        }
        
        // Math Quiz Game
        function loadMathQuiz() {
            const gameContentArea = document.getElementById('gameContentArea');
            
            let score = 0;
            let currentQuestion = {};
            let answered = false;
            
            function generateQuestion() {
                const operations = ['+', '-', '*'];
                const operation = operations[Math.floor(Math.random() * operations.length)];
                let num1, num2, answer;
                
                switch(operation) {
                    case '+':
                        num1 = Math.floor(Math.random() * 50) + 1;
                        num2 = Math.floor(Math.random() * 50) + 1;
                        answer = num1 + num2;
                        break;
                    case '-':
                        num1 = Math.floor(Math.random() * 50) + 1;
                        num2 = Math.floor(Math.random() * num1) + 1;
                        answer = num1 - num2;
                        break;
                    case '*':
                        num1 = Math.floor(Math.random() * 12) + 1;
                        num2 = Math.floor(Math.random() * 12) + 1;
                        answer = num1 * num2;
                        break;
                }
                
                currentQuestion = {
                    num1,
                    num2,
                    operation,
                    answer
                };
                
                // Generate options
                const options = [answer];
                while (options.length < 4) {
                    const wrongAnswer = answer + Math.floor(Math.random() * 20) - 10;
                    if (wrongAnswer !== answer && !options.includes(wrongAnswer)) {
                        options.push(wrongAnswer);
                    }
                }
                
                // Shuffle options
                options.sort(() => Math.random() - 0.5);
                
                // Create question HTML
                const questionHTML = `
                    <div class="math-question">${num1} ${operation} ${num2} = ?</div>
                    <div class="math-options">
                        ${options.map(option => `
                            <div class="math-option" onclick="checkAnswer(${option})">${option}</div>
                        `).join('')}
                    </div>
                    <div class="math-score">Score: ${score}</div>
                    <button class="btn math-next-btn" style="display: none;" onclick="nextQuestion()">Next Question</button>
                `;
                
                gameContentArea.innerHTML = questionHTML;
                answered = false;
            }
            
            window.checkAnswer = function(selectedAnswer) {
                if (answered) return;
                
                answered = true;
                const options = document.querySelectorAll('.math-option');
                
                options.forEach(option => {
                    if (parseInt(option.textContent) === currentQuestion.answer) {
                        option.classList.add('correct');
                    } else if (parseInt(option.textContent) === selectedAnswer) {
                        option.classList.add('incorrect');
                    }
                });
                
                if (selectedAnswer === currentQuestion.answer) {
                    score++;
                    document.querySelector('.math-score').textContent = `Score: ${score}`;
                }
                
                document.querySelector('.math-next-btn').style.display = 'block';
            };
            
            window.nextQuestion = function() {
                generateQuestion();
            };
            
            generateQuestion();
        }
        
        // Spelling Bee Game
        function loadSpellingBee() {
            const gameContentArea = document.getElementById('gameContentArea');
            
            const words = [
                { word: 'apple', hint: 'A fruit that is red or green' },
                { word: 'elephant', hint: 'A large animal with a trunk' },
                { word: 'computer', hint: 'An electronic device for processing data' },
                { word: 'beautiful', hint: 'Pleasing to look at; attractive' },
                { word: 'mountain', hint: 'A large natural elevation of the earth' }
            ];
            
            let currentWordIndex = 0;
            let score = 0;
            let userInput = '';
            let revealedIndices = [];
            
            function displayWord() {
                const currentWord = words[currentWordIndex];
                const displayWord = currentWord.word.split('').map((letter, index) => 
                    revealedIndices.includes(index) ? letter : '_'
                ).join(' ');
                
                gameContentArea.innerHTML = `
                    <div class="math-question">Spell the word: ${displayWord}</div>
                    <div class="math-options">Hint: ${currentWord.hint}</div>
                    <div class="math-score">Score: ${score}</div>
                    <div style="margin-top: 20px;">
                        <input type="text" id="spellingInput" placeholder="Enter the complete word" style="padding: 10px; font-size: 16px; width: 300px; border-radius: 5px; border: 1px solid #ddd;">
                        <button class="btn" onclick="checkSpelling()" style="margin-left: 10px;">Submit</button>
                    </div>
                    <button class="btn math-next-btn" style="display: none; margin-top: 20px;" onclick="nextSpellingWord()">Next Word</button>
                `;
                
                document.getElementById('spellingInput').addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        checkSpelling();
                    }
                });
            }
            
            window.checkSpelling = function() {
                const input = document.getElementById('spellingInput').value.toLowerCase();
                const currentWord = words[currentWordIndex].word.toLowerCase();
                
                if (input === currentWord) {
                    score++;
                    document.querySelector('.math-score').textContent = `Score: ${score}`;
                    showNotification('Correct!');
                } else {
                    showNotification('Incorrect. Try again!');
                }
                
                document.querySelector('.math-next-btn').style.display = 'block';
            };
            
            window.nextSpellingWord = function() {
                currentWordIndex = (currentWordIndex + 1) % words.length;
                revealedIndices = [];
                displayWord();
            };
            
            displayWord();
        }
        
        // Science Trivia Game
        function loadScienceTrivia() {
            const gameContentArea = document.getElementById('gameContentArea');
            
            const questions = [
                {
                    question: "What is the chemical symbol for gold?",
                    options: ["Go", "Gd", "Au", "Ag"],
                    answer: 2
                },
                {
                    question: "What is the hardest natural substance on Earth?",
                    options: ["Gold", "Iron", "Diamond", "Silver"],
                    answer: 2
                },
                {
                    question: "What is the closest planet to the Sun?",
                    options: ["Venus", "Mercury", "Earth", "Mars"],
                    answer: 1
                },
                {
                    question: "What is the main gas found in the Earth's atmosphere?",
                    options: ["Oxygen", "Carbon Dioxide", "Nitrogen", "Hydrogen"],
                    answer: 2
                },
                {
                    question: "What is the process by which plants make their own food?",
                    options: ["Respiration", "Photosynthesis", "Digestion", "Transpiration"],
                    answer: 1
                }
            ];
            
            let currentQuestionIndex = 0;
            let score = 0;
            let answered = false;
            
            function displayQuestion() {
                const question = questions[currentQuestionIndex];
                
                gameContentArea.innerHTML = `
                    <div class="math-question">${question.question}</div>
                    <div class="math-options">
                        ${question.options.map((option, index) => `
                            <div class="math-option" onclick="checkScienceAnswer(${index})">${option}</div>
                        `).join('')}
                    </div>
                    <div class="math-score">Score: ${score}</div>
                    <button class="btn math-next-btn" style="display: none;" onclick="nextScienceQuestion()">Next Question</button>
                `;
                
                answered = false;
            }
            
            window.checkScienceAnswer = function(selectedIndex) {
                if (answered) return;
                
                answered = true;
                const question = questions[currentQuestionIndex];
                const options = document.querySelectorAll('.math-option');
                
                options.forEach((option, index) => {
                    if (index === question.answer) {
                        option.classList.add('correct');
                    } else if (index === selectedIndex) {
                        option.classList.add('incorrect');
                    }
                });
                
                if (selectedIndex === question.answer) {
                    score++;
                    document.querySelector('.math-score').textContent = `Score: ${score}`;
                }
                
                document.querySelector('.math-next-btn').style.display = 'block';
            };
            
            window.nextScienceQuestion = function() {
                currentQuestionIndex = (currentQuestionIndex + 1) % questions.length;
                displayQuestion();
            };
            
            displayQuestion();
        }
        
        // Geography Explorer Game
        function loadGeographyExplorer() {
            const gameContentArea = document.getElementById('gameContentArea');
            
            const countries = [
                { name: "United States", capital: "Washington D.C." },
                { name: "United Kingdom", capital: "London" },
                { name: "France", capital: "Paris" },
                { name: "Japan", capital: "Tokyo" },
                { name: "Australia", capital: "Canberra" },
                { name: "Brazil", capital: "BrasÃ­lia" },
                { name: "India", capital: "New Delhi" },
                { name: "China", capital: "Beijing" },
                { name: "Russia", capital: "Moscow" },
                { name: "Canada", capital: "Ottawa" }
            ];
            
            let currentCountryIndex = 0;
            let score = 0;
            let answered = false;
            
            function displayCountry() {
                const country = countries[currentCountryIndex];
                const options = [country.capital];
                
                // Generate wrong options
                while (options.length < 4) {
                    const randomCountry = countries[Math.floor(Math.random() * countries.length)];
                    if (randomCountry.capital !== country.capital && !options.includes(randomCountry.capital)) {
                        options.push(randomCountry.capital);
                    }
                }
                
                // Shuffle options
                options.sort(() => Math.random() - 0.5);
                
                gameContentArea.innerHTML = `
                    <div class="math-question">What is the capital of ${country.name}?</div>
                    <div class="math-options">
                        ${options.map((option, index) => `
                            <div class="math-option" onclick="checkCapital('${option}')">${option}</div>
                        `).join('')}
                    </div>
                    <div class="math-score">Score: ${score}</div>
                    <button class="btn math-next-btn" style="display: none;" onclick="nextCountry()">Next Country</button>
                `;
                
                answered = false;
            }
            
            window.checkCapital = function(selectedCapital) {
                if (answered) return;
                
                answered = true;
                const country = countries[currentCountryIndex];
                const options = document.querySelectorAll('.math-option');
                
                options.forEach(option => {
                    if (option.textContent === country.capital) {
                        option.classList.add('correct');
                    } else if (option.textContent === selectedCapital) {
                        option.classList.add('incorrect');
                    }
                });
                
                if (selectedCapital === country.capital) {
                    score++;
                    document.querySelector('.math-score').textContent = `Score: ${score}`;
                }
                
                document.querySelector('.math-next-btn').style.display = 'block';
            };
            
            window.nextCountry = function() {
                currentCountryIndex = (currentCountryIndex + 1) % countries.length;
                displayCountry();
            };
            
            displayCountry();
        }
        
        // History Timeline Game
        function loadHistoryTimeline() {
            const gameContentArea = document.getElementById('gameContentArea');
            
            const events = [
                { year: "1492", event: "Christopher Columbus reaches the Americas" },
                { year: "1776", event: "American Declaration of Independence" },
                { year: "1789", event: "French Revolution begins" },
                { year: "1914", event: "World War I begins" },
                { year: "1945", event: "World War II ends" },
                { year: "1969", event: "First moon landing" },
                { year: "1989", event: "Fall of the Berlin Wall" },
                { year: "2001", event: "9/11 attacks" }
            ];
            
            let currentEventIndex = 0;
            let score = 0;
            let answered = false;
            
            function displayEvent() {
                const event = events[currentEventIndex];
                const options = [event.year];
                
                // Generate wrong options
                while (options.length < 4) {
                    const wrongYear = parseInt(event.year) + Math.floor(Math.random() * 100) - 50;
                    if (wrongYear !== parseInt(event.year) && !options.includes(wrongYear.toString())) {
                        options.push(wrongYear.toString());
                    }
                }
                
                // Shuffle options
                options.sort(() => Math.random() - 0.5);
                
                gameContentArea.innerHTML = `
                    <div class="math-question">In what year did this event happen: "${event.event}"?</div>
                    <div class="math-options">
                        ${options.map((option, index) => `
                            <div class="math-option" onclick="checkYear('${option}')">${option}</div>
                        `).join('')}
                    </div>
                    <div class="math-score">Score: ${score}</div>
                    <button class="btn math-next-btn" style="display: none;" onclick="nextEvent()">Next Event</button>
                `;
                
                answered = false;
            }
            
            window.checkYear = function(selectedYear) {
                if (answered) return;
                
                answered = true;
                const event = events[currentEventIndex];
                const options = document.querySelectorAll('.math-option');
                
                options.forEach(option => {
                    if (option.textContent === event.year) {
                        option.classList.add('correct');
                    } else if (option.textContent === selectedYear) {
                        option.classList.add('incorrect');
                    }
                });
                
                if (selectedYear === event.year) {
                    score++;
                    document.querySelector('.math-score').textContent = `Score: ${score}`;
                }
                
                document.querySelector('.math-next-btn').style.display = 'block';
            };
            
            window.nextEvent = function() {
                currentEventIndex = (currentEventIndex + 1) % events.length;
                displayEvent();
            };
            
            displayEvent();
        }
        
        // Word Puzzle Game
        function loadWordPuzzle() {
            const gameContentArea = document.getElementById('gameContentArea');
            
            const words = [
                "EDUCATION", "LEARNING", "STUDENT", "TEACHER", "KNOWLEDGE"
            ];
            
            let currentWordIndex = 0;
            let score = 0;
            let userInput = '';
            
            function displayWord() {
                const word = words[currentWordIndex];
                const scrambled = word.split('').sort(() => Math.random() - 0.5).join('');
                
                gameContentArea.innerHTML = `
                    <div class="math-question">Unscramble the letters to form a word related to education:</div>
                    <div class="math-options" style="font-size: 24px; letter-spacing: 5px;">${scrambled}</div>
                    <div style="margin-top: 20px;">
                        <input type="text" id="wordInput" placeholder="Enter the unscrambled word" style="padding: 10px; font-size: 16px; width: 300px; border-radius: 5px; border: 1px solid #ddd;">
                        <button class="btn" onclick="checkWord()" style="margin-left: 10px;">Submit</button>
                    </div>
                    <div class="math-score">Score: ${score}</div>
                    <button class="btn math-next-btn" style="display: none; margin-top: 20px;" onclick="nextWord()">Next Word</button>
                `;
                
                document.getElementById('wordInput').addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        checkWord();
                    }
                });
            }
            
            window.checkWord = function() {
                const input = document.getElementById('wordInput').value.toUpperCase();
                const word = words[currentWordIndex];
                
                if (input === word) {
                    score++;
                    document.querySelector('.math-score').textContent = `Score: ${score}`;
                    showNotification('Correct!');
                } else {
                    showNotification('Incorrect. Try again!');
                }
                
                document.querySelector('.math-next-btn').style.display = 'block';
            };
            
            window.nextWord = function() {
                currentWordIndex = (currentWordIndex + 1) % words.length;
                displayWord();
            };
            
            displayWord();
        }
        
        // Memory Match Game
        function loadMemoryMatch() {
            const gameContentArea = document.getElementById('gameContentArea');
            
            const symbols = ['ðŸŽ', 'ðŸŒ', 'ðŸ‡', 'ðŸŠ', 'ðŸ“', 'ðŸ’', 'ðŸ‘', 'ðŸ¥'];
            const cards = [...symbols, ...symbols]; // Duplicate to create pairs
            
            // Shuffle cards
            for (let i = cards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [cards[i], cards[j]] = [cards[j], cards[i]];
            }
            
            let flippedCards = [];
            let matchedPairs = 0;
            let moves = 0;
            let canFlip = true;
            
            function createBoard() {
                const boardHTML = cards.map((symbol, index) => `
                    <div class="memory-card" data-index="${index}" onclick="flipCard(${index})">?</div>
                `).join('');
                
                gameContentArea.innerHTML = `
                    <div class="memory-board">${boardHTML}</div>
                    <div class="memory-score">Moves: ${moves} | Matched: ${matchedPairs}/${symbols.length}</div>
                    <button class="btn memory-reset-btn" onclick="resetMemoryGame()">Reset Game</button>
                `;
            }
            
            window.flipCard = function(index) {
                if (!canFlip || flippedCards.includes(index)) return;
                
                const card = document.querySelector(`[data-index="${index}"]`);
                card.textContent = cards[index];
                card.classList.add('flipped');
                flippedCards.push(index);
                
                if (flippedCards.length === 2) {
                    canFlip = false;
                    moves++;
                    document.querySelector('.memory-score').textContent = `Moves: ${moves} | Matched: ${matchedPairs}/${symbols.length}`;
                    
                    setTimeout(() => {
                        const card1 = document.querySelector(`[data-index="${flippedCards[0]}"]`);
                        const card2 = document.querySelector(`[data-index="${flippedCards[1]}"]`);
                        
                        if (cards[flippedCards[0]] === cards[flippedCards[1]]) {
                            card1.classList.add('matched');
                            card2.classList.add('matched');
                            matchedPairs++;
                            
                            if (matchedPairs === symbols.length) {
                                showNotification(`Congratulations! You completed the game in ${moves} moves!`);
                            }
                        } else {
                            card1.textContent = '?';
                            card2.textContent = '?';
                            card1.classList.remove('flipped');
                            card2.classList.remove('flipped');
                        }
                        
                        flippedCards = [];
                        canFlip = true;
                        
                        document.querySelector('.memory-score').textContent = `Moves: ${moves} | Matched: ${matchedPairs}/${symbols.length}`;
                    }, 1000);
                }
            };
            
            window.resetMemoryGame = function() {
                flippedCards = [];
                matchedPairs = 0;
                moves = 0;
                canFlip = true;
                
                // Shuffle cards again
                for (let i = cards.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [cards[i], cards[j]] = [cards[j], cards[i]];
                }
                
                createBoard();
            };
            
            createBoard();
        }
        
        // Logic Puzzle Game
        function loadLogicPuzzle() {
            const gameContentArea = document.getElementById('gameContentArea');
            
            const puzzles = [
                {
                    question: "If all Bloops are Razzies and all Razzies are Loppies, then all Bloops are definitely Loppies?",
                    options: ["True", "False"],
                    answer: 0
                },
                {
                    question: "Which number should come next in the pattern: 2, 6, 12, 20, ?",
                    options: ["24", "26", "28", "30"],
                    answer: 3
                },
                {
                    question: "If it takes 5 machines 5 minutes to make 5 widgets, how long does it take 100 machines to make 100 widgets?",
                    options: ["5 minutes", "20 minutes", "100 minutes", "500 minutes"],
                    answer: 0
                }
            ];
            
            let currentPuzzleIndex = 0;
            let score = 0;
            let answered = false;
            
            function displayPuzzle() {
                const puzzle = puzzles[currentPuzzleIndex];
                
                gameContentArea.innerHTML = `
                    <div class="math-question">${puzzle.question}</div>
                    <div class="math-options">
                        ${puzzle.options.map((option, index) => `
                            <div class="math-option" onclick="checkLogicAnswer(${index})">${option}</div>
                        `).join('')}
                    </div>
                    <div class="math-score">Score: ${score}</div>
                    <button class="btn math-next-btn" style="display: none;" onclick="nextPuzzle()">Next Puzzle</button>
                `;
                
                answered = false;
            }
            
            window.checkLogicAnswer = function(selectedIndex) {
                if (answered) return;
                
                answered = true;
                const puzzle = puzzles[currentPuzzleIndex];
                const options = document.querySelectorAll('.math-option');
                
                options.forEach((option, index) => {
                    if (index === puzzle.answer) {
                        option.classList.add('correct');
                    } else if (index === selectedIndex) {
                        option.classList.add('incorrect');
                    }
                });
                
                if (selectedIndex === puzzle.answer) {
                    score++;
                    document.querySelector('.math-score').textContent = `Score: ${score}`;
                }
                
                document.querySelector('.math-next-btn').style.display = 'block';
            };
            
            window.nextPuzzle = function() {
                currentPuzzleIndex = (currentPuzzleIndex + 1) % puzzles.length;
                displayPuzzle();
            };
            
            displayPuzzle();
        }
        
        // Grammar Master Game
        function loadGrammarMaster() {
            const gameContentArea = document.getElementById('gameContentArea');
            
            const questions = [
                {
                    sentence: "The cat ___ on the mat.",
                    options: ["sit", "sits", "sat", "sitting"],
                    answer: 1
                },
                {
                    sentence: "She ___ to the store yesterday.",
                    options: ["go", "goes", "gone", "went"],
                    answer: 3
                },
                {
                    sentence: "They ___ playing football now.",
                    options: ["is", "are", "am", "be"],
                    answer: 1
                },
                {
                    sentence: "I have ___ my homework.",
                    options: ["do", "did", "done", "doing"],
                    answer: 2
                },
                {
                    sentence: "He will ___ you tomorrow.",
                    options: ["calls", "called", "calling", "call"],
                    answer: 3
                }
            ];
            
            let currentQuestionIndex = 0;
            let score = 0;
            let answered = false;
            
            function displayQuestion() {
                const question = questions[currentQuestionIndex];
                
                gameContentArea.innerHTML = `
                    <div class="math-question">Choose the correct word to complete the sentence:</div>
                    <div class="math-question" style="font-size: 1.2rem; margin-bottom: 20px;">"${question.sentence}"</div>
                    <div class="math-options">
                        ${question.options.map((option, index) => `
                            <div class="math-option" onclick="checkGrammarAnswer(${index})">${option}</div>
                        `).join('')}
                    </div>
                    <div class="math-score">Score: ${score}</div>
                    <button class="btn math-next-btn" style="display: none;" onclick="nextGrammarQuestion()">Next Question</button>
                `;
                
                answered = false;
            }
            
            window.checkGrammarAnswer = function(selectedIndex) {
                if (answered) return;
                
                answered = true;
                const question = questions[currentQuestionIndex];
                const options = document.querySelectorAll('.math-option');
                
                options.forEach((option, index) => {
                    if (index === question.answer) {
                        option.classList.add('correct');
                    } else if (index === selectedIndex) {
                        option.classList.add('incorrect');
                    }
                });
                
                if (selectedIndex === question.answer) {
                    score++;
                    document.querySelector('.math-score').textContent = `Score: ${score}`;
                }
                
                document.querySelector('.math-next-btn').style.display = 'block';
            };
            
            window.nextGrammarQuestion = function() {
                currentQuestionIndex = (currentQuestionIndex + 1) % questions.length;
                displayQuestion();
            };
            
            displayQuestion();
        }
        
        // Animal Kingdom Game
        function loadAnimalKingdom() {
            const gameContentArea = document.getElementById('gameContentArea');
            
            const animals = [
                { name: "Lion", habitat: "Grasslands", diet: "Carnivore" },
                { name: "Elephant", habitat: "Savanna", diet: "Herbivore" },
                { name: "Penguin", habitat: "Antarctica", diet: "Carnivore" },
                { name: "Giraffe", habitat: "Savanna", diet: "Herbivore" },
                { name: "Panda", habitat: "Bamboo forests", diet: "Herbivore" },
                { name: "Shark", habitat: "Ocean", diet: "Carnivore" },
                { name: "Eagle", habitat: "Mountains", diet: "Carnivore" },
                { name: "Koala", habitat: "Eucalyptus forests", diet: "Herbivore" }
            ];
            
            let currentAnimalIndex = 0;
            let score = 0;
            let answered = false;
            
            function displayAnimal() {
                const animal = animals[currentAnimalIndex];
                const options = [animal.habitat, animal.diet];
                
                // Generate wrong options
                while (options.length < 4) {
                    const randomAnimal = animals[Math.floor(Math.random() * animals.length)];
                    if (!options.includes(randomAnimal.habitat)) {
                        options.push(randomAnimal.habitat);
                    } else if (!options.includes(randomAnimal.diet)) {
                        options.push(randomAnimal.diet);
                    }
                }
                
                // Shuffle options
                options.sort(() => Math.random() - 0.5);
                
                gameContentArea.innerHTML = `
                    <div class="math-question">What is the habitat of the ${animal.name}?</div>
                    <div class="math-options">
                        ${options.map((option, index) => `
                            <div class="math-option" onclick="checkHabitat('${option}')">${option}</div>
                        `).join('')}
                    </div>
                    <div class="math-score">Score: ${score}</div>
                    <button class="btn math-next-btn" style="display: none;" onclick="nextAnimal()">Next Animal</button>
                `;
                
                answered = false;
            }
            
            window.checkHabitat = function(selectedHabitat) {
                if (answered) return;
                
                answered = true;
                const animal = animals[currentAnimalIndex];
                const options = document.querySelectorAll('.math-option');
                
                options.forEach(option => {
                    if (option.textContent === animal.habitat) {
                        option.classList.add('correct');
                    } else if (option.textContent === selectedHabitat) {
                        option.classList.add('incorrect');
                    }
                });
                
                if (selectedHabitat === animal.habitat) {
                    score++;
                    document.querySelector('.math-score').textContent = `Score: ${score}`;
                }
                
                document.querySelector('.math-next-btn').style.display = 'block';
            };
            
            window.nextAnimal = function() {
                currentAnimalIndex = (currentAnimalIndex + 1) % animals.length;
                displayAnimal();
            };
            
            displayAnimal();
        }
        
        // Typing Master Game
        function loadTypingMaster() {
            const gameContentArea = document.getElementById('gameContentArea');
            
            // Typing game state
            const typingGameState = {
                level: null,
                timeDuration: null,
                playerName: null,
                mode: null,
                players: [], // For group mode
                currentPlayerIndex: 0,
                step: 1, // 1: level, 2: time, 3: name, 4: mode, 5: game, 6: results, 7: rankings
                startTime: null,
                endTime: null,
                originalText: '',
                typedText: '',
                currentSessionResults: [] // Results for current session
            };
            
            // Texts for different levels
            const levelTexts = {
                easy: "The quick brown fox jumps over the lazy dog.",
                medium: "Programming is the process of creating a set of instructions that tell a computer how to perform a task.",
                hard: "The five boxing wizards jump quickly. Sphinx of black quartz, judge my vow. Pack my box with five dozen liquor jugs."
            };
            
            // Function to render the current step
            function renderStep() {
                switch(typingGameState.step) {
                    case 1: // Level selection
                        renderLevelSelection();
                        break;
                    case 2: // Time duration selection
                        renderTimeSelection();
                        break;
                    case 3: // Name entry
                        renderNameEntry();
                        break;
                    case 4: // Mode selection
                        renderModeSelection();
                        break;
                    case 5: // Game
                        renderGame();
                        break;
                    case 6: // Results
                        renderResults();
                        break;
                    case 7: // Rankings
                        renderRankings();
                        break;
                }
            }
            
            // Level selection screen
            function renderLevelSelection() {
                gameContentArea.innerHTML = `
                    <div class="math-question">Select Difficulty Level</div>
                    <div class="typing-level-selection">
                        <div class="typing-level-option" onclick="selectLevel('easy')">Easy</div>
                        <div class="typing-level-option" onclick="selectLevel('medium')">Medium</div>
                        <div class="typing-level-option" onclick="selectLevel('hard')">Hard</div>
                    </div>
                `;
            }
            
            // Time duration selection screen
            function renderTimeSelection() {
                gameContentArea.innerHTML = `
                    <div class="math-question">Select Time Duration</div>
                    <div class="typing-level-selection">
                        <div class="typing-level-option" onclick="selectTime(30)">30 Seconds</div>
                        <div class="typing-level-option" onclick="selectTime(60)">1 Minute</div>
                        <div class="typing-level-option" onclick="selectTime(120)">2 Minutes</div>
                        <div class="typing-level-option" onclick="selectTime(240)">4 Minutes</div>
                        <div class="typing-level-option" onclick="selectTime(300)">5 Minutes</div>
                        <div class="typing-level-option" onclick="selectTime(360)">6 Minutes</div>
                        <div class="typing-level-option" onclick="selectTime(420)">7 Minutes</div>
                        <div class="typing-level-option" onclick="selectTime(480)">8 Minutes</div>
                        <div class="typing-level-option" onclick="selectTime(540)">9 Minutes</div>
                        <div class="typing-level-option" onclick="selectTime(600)">10 Minutes</div>
                    </div>
                `;
            }
            
            // Name entry screen
            function renderNameEntry() {
                gameContentArea.innerHTML = `
                    <div class="math-question">Enter Your Name</div>
                    <div style="margin-top: 20px;">
                        <input type="text" id="playerNameInput" placeholder="Enter your name" style="padding: 10px; font-size: 16px; width: 300px; border-radius: 5px; border: 1px solid #ddd;">
                        <button class="btn" onclick="submitName()" style="margin-left: 10px;">Next</button>
                    </div>
                `;
                
                // Focus on the input field
                document.getElementById('playerNameInput').focus();
            }
            
            // Mode selection screen
            function renderModeSelection() {
                gameContentArea.innerHTML = `
                    <div class="math-question">Select Game Mode</div>
                    <div class="typing-mode-selection">
                        <div class="typing-mode-option" onclick="selectMode('single')">Single Player</div>
                        <div class="typing-mode-option" onclick="selectMode('group')">Group Player</div>
                    </div>
                `;
            }
            
            // Game screen
            function renderGame() {
                const currentPlayer = typingGameState.mode === 'group' ? 
                    typingGameState.players[typingGameState.currentPlayerIndex] : 
                    typingGameState.playerName;
                    
                gameContentArea.innerHTML = `
                    <div style="margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <div><strong>Player:</strong> ${currentPlayer}</div>
                            <div><strong>Level:</strong> ${typingGameState.level.charAt(0).toUpperCase() + typingGameState.level.slice(1)}</div>
                            <div><strong>Time:</strong> ${typingGameState.timeDuration} seconds</div>
                            <div><strong>Mode:</strong> ${typingGameState.mode.charAt(0).toUpperCase() + typingGameState.mode.slice(1)}</div>
                        </div>
                        <div id="timer" class="typing-timer">Time: ${typingGameState.timeDuration}s</div>
                    </div>
                    
                    <div class="typing-text-display">
                        ${typingGameState.originalText}
                    </div>
                    
                    <div class="typing-input-area">
                        <textarea id="typingInput" class="typing-input" placeholder="Start typing here..."></textarea>
                    </div>
                    
                    <div class="typing-controls">
                        <button class="btn" id="startButton" onclick="startTyping()">Start</button>
                        <button class="btn" id="finishButton" onclick="finishTyping()" disabled>Finish</button>
                        <button class="btn" onclick="resetTypingGame()">Reset</button>
                    </div>
                `;
                
                // Focus on the textarea
                document.getElementById('typingInput').focus();
            }
            
            // Results screen
            function renderResults() {
                // Calculate results for the current player
                const timeTaken = (typingGameState.endTime - typingGameState.startTime) / 1000; // in seconds
                const originalWords = typingGameState.originalText.split(' ').length;
                const typedWords = typingGameState.typedText.trim().split(/\s+/).length;
                
                // Calculate WPM (words per minute)
                const wpm = Math.round((typedWords / timeTaken) * 60);
                
                // Calculate accuracy
                let correctChars = 0;
                for (let i = 0; i < Math.min(typingGameState.originalText.length, typingGameState.typedText.length); i++) {
                    if (typingGameState.originalText[i] === typingGameState.typedText[i]) {
                        correctChars++;
                    }
                }
                
                const accuracy = Math.round((correctChars / typingGameState.originalText.length) * 100);
                
                // Save result for current player
                const currentPlayer = typingGameState.mode === 'group' ? 
                    typingGameState.players[typingGameState.currentPlayerIndex] : 
                    typingGameState.playerName;
                    
                const result = {
                    playerName: currentPlayer,
                    level: typingGameState.level,
                    mode: typingGameState.mode,
                    timeDuration: typingGameState.timeDuration,
                    wpm: wpm,
                    accuracy: accuracy,
                    timeTaken: timeTaken,
                    timestamp: new Date().toLocaleString()
                };
                
                typingGameState.currentSessionResults.push(result);
                typingResults.push(result);
                
                // Check if there are more players in group mode
                if (typingGameState.mode === 'group' && 
                    typingGameState.currentPlayerIndex < typingGameState.players.length - 1) {
                    // Move to next player
                    typingGameState.currentPlayerIndex++;
                    typingGameState.startTime = null;
                    typingGameState.endTime = null;
                    typingGameState.typedText = '';
                    renderGame();
                    return;
                }
                
                // Display results for all players in the session
                let resultsHTML = `
                    <div class="info-card">
                        <h3>Typing Results</h3>
                        <table class="typing-rankings-table">
                            <thead>
                                <tr>
                                    <th>Player</th>
                                    <th>Level</th>
                                    <th>Time</th>
                                    <th>WPM</th>
                                    <th>Accuracy</th>
                                </tr>
                            </thead>
                            <tbody>
                `;
                
                // Sort results by WPM (descending)
                const sortedResults = [...typingGameState.currentSessionResults].sort((a, b) => b.wpm - a.wpm);
                
                sortedResults.forEach((result, index) => {
                    let rankBadge = '';
                    if (index === 0) rankBadge = '<span class="rank-medal rank-medal-1">1</span>';
                    else if (index === 1) rankBadge = '<span class="rank-medal rank-medal-2">2</span>';
                    else if (index === 2) rankBadge = '<span class="rank-medal rank-medal-3">3</span>';
                    else rankBadge = `${index + 1}`;
                    
                    resultsHTML += `
                        <tr>
                            <td>${rankBadge} ${result.playerName}</td>
                            <td>${result.level.charAt(0).toUpperCase() + result.level.slice(1)}</td>
                            <td>${result.timeDuration}s</td>
                            <td>${result.wpm}</td>
                            <td>${result.accuracy}%</td>
                        </tr>
                    `;
                });
                
                resultsHTML += `
                            </tbody>
                        </table>
                    </div>
                    
                    <div style="margin-top: 20px; display: flex; gap: 10px;">
                        <button class="btn" onclick="viewRankings()">View All Rankings</button>
                        <button class="btn" onclick="playAgain()">Play Again</button>
                        <button class="btn" onclick="backToGames()">Back to Games</button>
                    </div>
                `;
                
                gameContentArea.innerHTML = resultsHTML;
            }
            
            // Rankings screen
            function renderRankings() {
                // Sort results by WPM (descending)
                const sortedResults = [...typingResults].sort((a, b) => b.wpm - a.wpm);
                
                let rankingsHTML = `
                    <div class="typing-rankings">
                        <h3>Typing Master Rankings</h3>
                        <table class="typing-rankings-table">
                            <thead>
                                <tr>
                                    <th>Rank</th>
                                    <th>Player</th>
                                    <th>Level</th>
                                    <th>Time</th>
                                    <th>WPM</th>
                                    <th>Accuracy</th>
                                    <th>Date</th>
                                </tr>
                            </thead>
                            <tbody>
                `;
                
                sortedResults.forEach((result, index) => {
                    let rankBadge = '';
                    if (index === 0) rankBadge = '<span class="rank-medal rank-medal-1">1</span>';
                    else if (index === 1) rankBadge = '<span class="rank-medal rank-medal-2">2</span>';
                    else if (index === 2) rankBadge = '<span class="rank-medal rank-medal-3">3</span>';
                    else rankBadge = `${index + 1}`;
                    
                    rankingsHTML += `
                        <tr>
                            <td>${rankBadge}</td>
                            <td>${result.playerName}</td>
                            <td>${result.level.charAt(0).toUpperCase() + result.level.slice(1)}</td>
                            <td>${result.timeDuration}s</td>
                            <td>${result.wpm}</td>
                            <td>${result.accuracy}%</td>
                            <td>${result.timestamp}</td>
                        </tr>
                    `;
                });
                
                rankingsHTML += `
                            </tbody>
                        </table>
                        
                        <div style="margin-top: 20px; display: flex; gap: 10px;">
                            <button class="btn" onclick="playAgain()">Play Again</button>
                            <button class="btn" onclick="backToGames()">Back to Games</button>
                        </div>
                    </div>
                `;
                
                gameContentArea.innerHTML = rankingsHTML;
            }
            
            // Functions to handle game flow
            window.selectLevel = function(level) {
                typingGameState.level = level;
                typingGameState.step = 2;
                renderStep();
            };
            
            window.selectTime = function(seconds) {
                typingGameState.timeDuration = seconds;
                typingGameState.step = 3;
                renderStep();
            };
            
            window.submitName = function() {
                const nameInput = document.getElementById('playerNameInput');
                const name = nameInput.value.trim();
                
                if (!name) {
                    showNotification('Please enter your name');
                    return;
                }
                
                typingGameState.playerName = name;
                typingGameState.step = 4;
                renderStep();
            };
            
            window.selectMode = function(mode) {
                typingGameState.mode = mode;
                
                if (mode === 'group') {
                    // For group mode, we need to add players
                    typingGameState.players = [];
                    typingGameState.step = 3.5; // New step for adding players
                    renderAddPlayers();
                } else {
                    typingGameState.step = 5;
                    typingGameState.originalText = levelTexts[typingGameState.level];
                    renderStep();
                }
            };
            
            // New function to render add players screen
            function renderAddPlayers() {
                gameContentArea.innerHTML = `
                    <div class="math-question">Add Players (Group Mode)</div>
                    <div style="margin-top: 20px;">
                        <div id="playersList">
                            <p>No players added yet.</p>
                        </div>
                        <div style="margin-top: 20px;">
                            <input type="text" id="newPlayerInput" placeholder="Enter player name" style="padding: 10px; font-size: 16px; width: 300px; border-radius: 5px; border: 1px solid #ddd;">
                            <button class="btn" onclick="addPlayer()" style="margin-left: 10px;">Add Player</button>
                        </div>
                        <div style="margin-top: 20px;">
                            <button class="btn" onclick="startGroupGame()" disabled id="startGroupButton">Start Game</button>
                        </div>
                    </div>
                `;
                
                // Focus on the input field
                document.getElementById('newPlayerInput').focus();
            }
            
            window.addPlayer = function() {
                const input = document.getElementById('newPlayerInput');
                const name = input.value.trim();
                
                if (!name) {
                    showNotification('Please enter a player name');
                    return;
                }
                
                if (typingGameState.players.length >= 10) {
                    showNotification('Maximum 10 players allowed');
                    return;
                }
                
                typingGameState.players.push(name);
                input.value = '';
                
                // Update players list
                const playersList = document.getElementById('playersList');
                playersList.innerHTML = `
                    <ul>
                        ${typingGameState.players.map((player, index) => `
                            <li>${player} <button class="action-btn" onclick="removePlayer(${index})">Remove</button></li>
                        `).join('')}
                    </ul>
                `;
                
                // Enable start button if at least 2 players
                document.getElementById('startGroupButton').disabled = typingGameState.players.length < 2;
                
                // Focus back to input
                input.focus();
            };
            
            window.removePlayer = function(index) {
                typingGameState.players.splice(index, 1);
                
                // Update players list
                const playersList = document.getElementById('playersList');
                if (typingGameState.players.length === 0) {
                    playersList.innerHTML = '<p>No players added yet.</p>';
                } else {
                    playersList.innerHTML = `
                        <ul>
                            ${typingGameState.players.map((player, index) => `
                                <li>${player} <button class="action-btn" onclick="removePlayer(${index})">Remove</button></li>
                            `).join('')}
                        </ul>
                    `;
                }
                
                // Disable start button if less than 2 players
                document.getElementById('startGroupButton').disabled = typingGameState.players.length < 2;
            };
            
            window.startGroupGame = function() {
                typingGameState.step = 5;
                typingGameState.originalText = levelTexts[typingGameState.level];
                typingGameState.currentPlayerIndex = 0;
                typingGameState.currentSessionResults = [];
                renderStep();
            };
            
            window.startTyping = function() {
                typingGameState.startTime = new Date();
                document.getElementById('startButton').disabled = true;
                document.getElementById('finishButton').disabled = false;
                document.getElementById('typingInput').disabled = false;
                document.getElementById('typingInput').focus();
                
                // Start the countdown timer
                let timeLeft = typingGameState.timeDuration;
                const timerInterval = setInterval(() => {
                    timeLeft--;
                    document.getElementById('timer').textContent = `Time: ${timeLeft}s`;
                    
                    if (timeLeft <= 0) {
                        clearInterval(timerInterval);
                        finishTyping();
                    }
                }, 1000);
            };
            
            window.finishTyping = function() {
                typingGameState.endTime = new Date();
                typingGameState.typedText = document.getElementById('typingInput').value;
                
                // Move to results step
                typingGameState.step = 6;
                renderStep();
            };
            
            window.resetTypingGame = function() {
                typingGameState.step = 1;
                typingGameState.level = null;
                typingGameState.timeDuration = null;
                typingGameState.playerName = null;
                typingGameState.mode = null;
                typingGameState.players = [];
                typingGameState.currentPlayerIndex = 0;
                typingGameState.startTime = null;
                typingGameState.endTime = null;
                typingGameState.originalText = '';
                typingGameState.typedText = '';
                typingGameState.currentSessionResults = [];
                renderStep();
            };
            
            window.viewRankings = function() {
                typingGameState.step = 7;
                renderStep();
            };
            
            window.playAgain = function() {
                resetTypingGame();
            };
            
            window.backToGames = function() {
                showPage('gamesPage');
            };
            
            // Initialize the game
            renderStep();
        }
        
        // Page Lock Management Functions
        function populatePageLockTable() {
            const tbody = document.getElementById('pageLockTableBody');
            tbody.innerHTML = '';
            
            // Get all page IDs
            const pageIds = Object.keys(pageLocks);
            
            pageIds.forEach(pageId => {
                const pageLock = pageLocks[pageId];
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${pageId}</td>
                    <td>
                        <span class="lock-status ${pageLock.isLocked ? 'lock-status-locked' : 'lock-status-unlocked'}">
                            ${pageLock.isLocked ? 'Locked' : 'Unlocked'}
                        </span>
                    </td>
                    <td>
                        <input type="password" id="lockPassword-${pageId}" class="lock-password-input" value="${pageLock.lockPassword}">
                    </td>
                    <td>
                        <div class="lock-toggle">
                            <input type="checkbox" id="lockToggle-${pageId}" ${pageLock.isLocked ? 'checked' : ''} onchange="togglePageLock('${pageId}')">
                            <label for="lockToggle-${pageId}">Toggle Lock</label>
                        </div>
                        <button class="action-btn" onclick="savePageLock('${pageId}')">Save</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }
        
        window.togglePageLock = function(pageId) {
            // This function is called when the toggle checkbox is changed
            // The actual save happens when the Save button is clicked
        };
        
        window.savePageLock = function(pageId) {
            const isLocked = document.getElementById(`lockToggle-${pageId}`).checked;
            const lockPassword = document.getElementById(`lockPassword-${pageId}`).value;
            
            // Update the page lock
            pageLocks[pageId] = {
                isLocked: isLocked,
                lockPassword: lockPassword
            };
            
            showNotification(`Page lock updated for ${pageId}`);
            
            // Refresh the table
            populatePageLockTable();
        };
        
        // Explosion functions
        function createBombExplosion() {
            // Create multiple explosions for a more dramatic effect
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const explosion = document.createElement('div');
                    explosion.className = 'explosion';
                    
                    // Random position
                    const x = Math.random() * window.innerWidth;
                    const y = Math.random() * window.innerHeight;
                    
                    explosion.style.left = x + 'px';
                    explosion.style.top = y + 'px';
                    
                    document.body.appendChild(explosion);
                    
                    // Remove explosion after animation completes
                    setTimeout(() => {
                        explosion.remove();
                    }, 1500);
                }, i * 200); // Stagger the explosions
            }
            
            showNotification('ðŸ’¥ DHAMAKA! ðŸ’¥');
        }
        
        function createExplosion() {
            const explosion = document.createElement('div');
            explosion.className = 'explosion';
            
            // Random position
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight;
            
            explosion.style.left = x + 'px';
            explosion.style.top = y + 'px';
            
            document.body.appendChild(explosion);
            
            // Remove explosion after animation completes
            setTimeout(() => {
                explosion.remove();
            }, 1500);
        }
        
        function createPowerfulExplosion() {
            // Create multiple powerful explosions for 1 minute
            let count = 0;
            const maxExplosions = 30; // Number of explosions in 1 minute
            
            explosionInterval = setInterval(() => {
                if (count >= maxExplosions) {
                    clearInterval(explosionInterval);
                    return;
                }
                
                // Create 3-5 explosions at once
                const numExplosions = Math.floor(Math.random() * 3) + 3;
                
                for (let i = 0; i < numExplosions; i++) {
                    setTimeout(() => {
                        const explosion = document.createElement('div');
                        explosion.className = 'powerful-explosion';
                        
                        // Random position
                        const x = Math.random() * window.innerWidth;
                        const y = Math.random() * window.innerHeight;
                        
                        explosion.style.left = x + 'px';
                        explosion.style.top = y + 'px';
                        
                        document.body.appendChild(explosion);
                        
                        // Remove explosion after animation completes
                        setTimeout(() => {
                            explosion.remove();
                        }, 2000);
                    }, i * 100); // Stagger the explosions slightly
                }
                
                count++;
            }, 2000); // Create a new set of explosions every 2 seconds
        }
        
        // Initialize the page
        window.onload = function() {
            // Set up show password checkbox
            document.getElementById('showPasswordCheckbox').addEventListener('change', function() {
                const passwordField = document.getElementById('password');
                if (this.checked) {
                    passwordField.type = 'text';
                } else {
                    passwordField.type = 'password';
                }
            });
            
            // Set default user type to student
            selectUserType('student');
            
            // Populate user table
            populateUserTable();
            populateLockUnlockUserSelect();
            
            // Render candidates
            renderCandidates();
            renderCandidateManagement();
            
            // Populate member cards
            populateMemberCards();
            
            // Add welcome message to all pages
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => {
                if (page.id !== 'loginPage') {
                    const container = page.querySelector('.container');
                    if (container) {
                        const welcomeDiv = document.createElement('div');
                        welcomeDiv.className = 'welcome-message';
                        welcomeDiv.textContent = 'Welcome to Student Portal';
                        container.insertBefore(welcomeDiv, container.firstChild);
                    }
                }
            });
        };
    </script>
</body>
</html>

